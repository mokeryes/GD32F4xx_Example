ARM GAS  /tmp/ccYq1EAb.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"gd32f4xx_can.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c"
  18              		.section	.text.can_deinit,"ax",%progbits
  19              		.align	1
  20              		.global	can_deinit
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	can_deinit:
  26              	.LVL0:
  27              	.LFB116:
   1:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*!
   2:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \file    gd32f4xx_can.c
   3:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \brief   CAN driver
   4:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
   5:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \version 2016-08-15, V1.0.0, firmware for GD32F4xx
   6:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \version 2018-12-12, V2.0.0, firmware for GD32F4xx
   7:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \version 2019-11-27, V2.0.1, firmware for GD32F4xx
   8:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \version 2020-07-14, V2.0.2, firmware for GD32F4xx
   9:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \version 2020-09-30, V2.1.0, firmware for GD32F4xx
  10:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \version 2021-12-28, V2.1.1, firmware for GD32F4xx
  11:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \version 2022-03-09, V3.0.0, firmware for GD32F4xx
  12:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
  13:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
  14:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*
  15:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     Copyright (c) 2022, GigaDevice Semiconductor Inc.
  16:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
  17:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     Redistribution and use in source and binary forms, with or without modification,
  18:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** are permitted provided that the following conditions are met:
  19:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
  20:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     1. Redistributions of source code must retain the above copyright notice, this
  21:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****        list of conditions and the following disclaimer.
  22:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     2. Redistributions in binary form must reproduce the above copyright notice,
  23:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****        this list of conditions and the following disclaimer in the documentation
  24:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****        and/or other materials provided with the distribution.
  25:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     3. Neither the name of the copyright holder nor the names of its contributors
  26:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****        may be used to endorse or promote products derived from this software without
  27:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****        specific prior written permission.
  28:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
  29:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  30:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
  31:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
ARM GAS  /tmp/ccYq1EAb.s 			page 2


  32:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
  33:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
  34:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  35:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
  36:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
  37:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  38:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** OF SUCH DAMAGE.
  39:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
  40:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
  41:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** #include "gd32f4xx_can.h"
  42:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
  43:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** #define CAN_ERROR_HANDLE(s)     do{}while(1)
  44:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
  45:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*!
  46:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \brief      deinitialize CAN
  47:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  can_periph
  48:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CANx(x=0,1)
  49:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[out] none
  50:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \retval     none
  51:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
  52:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** void can_deinit(uint32_t can_periph)
  53:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
  28              		.loc 1 53 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  54:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     if(CAN0 == can_periph) {
  32              		.loc 1 54 5 view .LVU1
  53:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     if(CAN0 == can_periph) {
  33              		.loc 1 53 1 is_stmt 0 view .LVU2
  34 0000 08B5     		push	{r3, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 3, -8
  38              		.cfi_offset 14, -4
  39              		.loc 1 54 7 view .LVU3
  40 0002 0A4B     		ldr	r3, .L4
  41 0004 9842     		cmp	r0, r3
  42 0006 09D1     		bne	.L2
  55:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         rcu_periph_reset_enable(RCU_CAN0RST);
  43              		.loc 1 55 9 is_stmt 1 view .LVU4
  44 0008 40F61900 		movw	r0, #2073
  45              	.LVL1:
  46              		.loc 1 55 9 is_stmt 0 view .LVU5
  47 000c FFF7FEFF 		bl	rcu_periph_reset_enable
  48              	.LVL2:
  56:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         rcu_periph_reset_disable(RCU_CAN0RST);
  49              		.loc 1 56 9 is_stmt 1 view .LVU6
  50 0010 40F61900 		movw	r0, #2073
  51              	.L3:
  57:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else {
  58:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         rcu_periph_reset_enable(RCU_CAN1RST);
  59:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         rcu_periph_reset_disable(RCU_CAN1RST);
  60:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
  61:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
  52              		.loc 1 61 1 is_stmt 0 view .LVU7
  53 0014 BDE80840 		pop	{r3, lr}
ARM GAS  /tmp/ccYq1EAb.s 			page 3


  54              	.LCFI1:
  55              		.cfi_remember_state
  56              		.cfi_restore 14
  57              		.cfi_restore 3
  58              		.cfi_def_cfa_offset 0
  59:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
  59              		.loc 1 59 9 view .LVU8
  60 0018 FFF7FEBF 		b	rcu_periph_reset_disable
  61              	.LVL3:
  62              	.L2:
  63              	.LCFI2:
  64              		.cfi_restore_state
  58:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         rcu_periph_reset_disable(RCU_CAN1RST);
  65              		.loc 1 58 9 is_stmt 1 view .LVU9
  66 001c 40F61A00 		movw	r0, #2074
  67              	.LVL4:
  58:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         rcu_periph_reset_disable(RCU_CAN1RST);
  68              		.loc 1 58 9 is_stmt 0 view .LVU10
  69 0020 FFF7FEFF 		bl	rcu_periph_reset_enable
  70              	.LVL5:
  59:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
  71              		.loc 1 59 9 is_stmt 1 view .LVU11
  72 0024 40F61A00 		movw	r0, #2074
  73 0028 F4E7     		b	.L3
  74              	.L5:
  75 002a 00BF     		.align	2
  76              	.L4:
  77 002c 00640040 		.word	1073767424
  78              		.cfi_endproc
  79              	.LFE116:
  81              		.section	.text.can_struct_para_init,"ax",%progbits
  82              		.align	1
  83              		.global	can_struct_para_init
  84              		.syntax unified
  85              		.thumb
  86              		.thumb_func
  88              	can_struct_para_init:
  89              	.LVL6:
  90              	.LFB117:
  62:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
  63:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*!
  64:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \brief      initialize CAN parameter struct with a default value
  65:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  type: the type of CAN parameter struct
  66:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 only one parameter can be selected which is shown as below:
  67:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INIT_STRUCT: the CAN initial struct
  68:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FILTER_STRUCT: the CAN filter struct
  69:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_TX_MESSAGE_STRUCT: the CAN TX message struct
  70:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_RX_MESSAGE_STRUCT: the CAN RX message struct
  71:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[out] p_struct: the pointer of the specific struct
  72:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \retval     none
  73:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
  74:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** void can_struct_para_init(can_struct_type_enum type, void *p_struct)
  75:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
  91              		.loc 1 75 1 view -0
  92              		.cfi_startproc
  93              		@ args = 0, pretend = 0, frame = 0
  94              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccYq1EAb.s 			page 4


  95              		@ link register save eliminated.
  76:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     uint8_t i;
  96              		.loc 1 76 5 view .LVU13
  77:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
  78:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* get type of the struct */
  79:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     switch(type) {
  97              		.loc 1 79 5 view .LVU14
  98 0000 0328     		cmp	r0, #3
  99 0002 03D8     		bhi	.L14
 100 0004 DFE800F0 		tbb	[pc, r0]
 101              	.L9:
 102 0008 03       		.byte	(.L12-.L9)/2
 103 0009 11       		.byte	(.L11-.L9)/2
 104 000a 1C       		.byte	(.L10-.L9)/2
 105 000b 26       		.byte	(.L8-.L9)/2
 106              		.p2align 1
 107              	.L14:
 108              	.L7:
  80:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* used for can_init() */
  81:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     case CAN_INIT_STRUCT:
  82:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->auto_bus_off_recovery = DISABLE;
  83:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->auto_retrans = ENABLE;
  84:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->auto_wake_up = DISABLE;
  85:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->prescaler = 0x03FFU;
  86:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->rec_fifo_overwrite = ENABLE;
  87:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->resync_jump_width = CAN_BT_SJW_1TQ;
  88:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->time_segment_1 = CAN_BT_BS1_3TQ;
  89:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->time_segment_2 = CAN_BT_BS2_1TQ;
  90:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->time_triggered = DISABLE;
  91:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->trans_fifo_order = DISABLE;
  92:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->working_mode = CAN_NORMAL_MODE;
  93:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
  94:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         break;
  95:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* used for can_filter_init() */
  96:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     case CAN_FILTER_STRUCT:
  97:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_filter_parameter_struct *)p_struct)->filter_bits = CAN_FILTERBITS_32BIT;
  98:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_filter_parameter_struct *)p_struct)->filter_enable = DISABLE;
  99:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_filter_parameter_struct *)p_struct)->filter_fifo_number = CAN_FIFO0;
 100:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_filter_parameter_struct *)p_struct)->filter_list_high = 0x0000U;
 101:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_filter_parameter_struct *)p_struct)->filter_list_low = 0x0000U;
 102:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_filter_parameter_struct *)p_struct)->filter_mask_high = 0x0000U;
 103:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_filter_parameter_struct *)p_struct)->filter_mask_low = 0x0000U;
 104:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_filter_parameter_struct *)p_struct)->filter_mode = CAN_FILTERMODE_MASK;
 105:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_filter_parameter_struct *)p_struct)->filter_number = 0U;
 106:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 107:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         break;
 108:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* used for can_message_transmit() */
 109:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     case CAN_TX_MESSAGE_STRUCT:
 110:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         for(i = 0U; i < 8U; i++) {
 111:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             ((can_trasnmit_message_struct *)p_struct)->tx_data[i] = 0U;
 112:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         }
 113:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 114:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_trasnmit_message_struct *)p_struct)->tx_dlen = 0u;
 115:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_trasnmit_message_struct *)p_struct)->tx_efid = 0U;
 116:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_trasnmit_message_struct *)p_struct)->tx_ff = (uint8_t)CAN_FF_STANDARD;
 117:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_trasnmit_message_struct *)p_struct)->tx_ft = (uint8_t)CAN_FT_DATA;
 118:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_trasnmit_message_struct *)p_struct)->tx_sfid = 0U;
ARM GAS  /tmp/ccYq1EAb.s 			page 5


 119:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 120:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         break;
 121:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* used for can_message_receive() */
 122:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     case CAN_RX_MESSAGE_STRUCT:
 123:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         for(i = 0U; i < 8U; i++) {
 124:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             ((can_receive_message_struct *)p_struct)->rx_data[i] = 0U;
 125:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         }
 126:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 127:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_receive_message_struct *)p_struct)->rx_dlen = 0U;
 128:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_receive_message_struct *)p_struct)->rx_efid = 0U;
 129:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_receive_message_struct *)p_struct)->rx_ff = (uint8_t)CAN_FF_STANDARD;
 130:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_receive_message_struct *)p_struct)->rx_fi = 0U;
 131:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_receive_message_struct *)p_struct)->rx_ft = (uint8_t)CAN_FT_DATA;
 132:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_receive_message_struct *)p_struct)->rx_sfid = 0U;
 133:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 134:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         break;
 135:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 136:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     default:
 137:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_ERROR_HANDLE("parameter is invalid \r\n");
 109              		.loc 1 137 9 discriminator 1 view .LVU15
 110              		.loc 1 137 9 discriminator 1 view .LVU16
 111              		.loc 1 137 9 discriminator 1 view .LVU17
 112 000c FEE7     		b	.L7
 113              	.L12:
  82:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->auto_retrans = ENABLE;
 114              		.loc 1 82 9 view .LVU18
  83:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->auto_wake_up = DISABLE;
 115              		.loc 1 83 9 view .LVU19
  84:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->prescaler = 0x03FFU;
 116              		.loc 1 84 9 view .LVU20
  85:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->rec_fifo_overwrite = ENABLE;
 117              		.loc 1 85 9 view .LVU21
  86:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->resync_jump_width = CAN_BT_SJW_1TQ;
 118              		.loc 1 86 9 view .LVU22
  87:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->time_segment_1 = CAN_BT_BS1_3TQ;
 119              		.loc 1 87 9 view .LVU23
  88:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->time_segment_2 = CAN_BT_BS2_1TQ;
 120              		.loc 1 88 9 view .LVU24
  89:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->time_triggered = DISABLE;
 121              		.loc 1 89 9 view .LVU25
  90:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->trans_fifo_order = DISABLE;
 122              		.loc 1 90 9 view .LVU26
  91:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->working_mode = CAN_NORMAL_MODE;
 123              		.loc 1 91 9 view .LVU27
  92:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 124              		.loc 1 92 9 view .LVU28
  92:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 125              		.loc 1 92 58 is_stmt 0 view .LVU29
 126 000e 0023     		movs	r3, #0
 127 0010 0B80     		strh	r3, [r1]	@ movhi
  90:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->trans_fifo_order = DISABLE;
 128              		.loc 1 90 60 view .LVU30
 129 0012 8B80     		strh	r3, [r1, #4]	@ movhi
  84:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->prescaler = 0x03FFU;
 130              		.loc 1 84 58 view .LVU31
 131 0014 4FF48073 		mov	r3, #256
  88:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->time_segment_2 = CAN_BT_BS2_1TQ;
ARM GAS  /tmp/ccYq1EAb.s 			page 6


 132              		.loc 1 88 60 view .LVU32
 133 0018 0222     		movs	r2, #2
  84:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->prescaler = 0x03FFU;
 134              		.loc 1 84 58 view .LVU33
 135 001a CB80     		strh	r3, [r1, #6]	@ movhi
  86:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->resync_jump_width = CAN_BT_SJW_1TQ;
 136              		.loc 1 86 64 view .LVU34
 137 001c 0123     		movs	r3, #1
 138 001e 0B81     		strh	r3, [r1, #8]	@ movhi
  88:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->time_segment_2 = CAN_BT_BS2_1TQ;
 139              		.loc 1 88 60 view .LVU35
 140 0020 4A80     		strh	r2, [r1, #2]	@ movhi
  85:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_parameter_struct *)p_struct)->rec_fifo_overwrite = ENABLE;
 141              		.loc 1 85 55 view .LVU36
 142 0022 40F2FF33 		movw	r3, #1023
 143              	.L15:
 105:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 144              		.loc 1 105 9 is_stmt 1 view .LVU37
 105:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 145              		.loc 1 105 66 is_stmt 0 view .LVU38
 146 0026 4B81     		strh	r3, [r1, #10]	@ movhi
 107:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* used for can_message_transmit() */
 147              		.loc 1 107 9 is_stmt 1 view .LVU39
 148 0028 7047     		bx	lr
 149              	.L11:
  97:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_filter_parameter_struct *)p_struct)->filter_enable = DISABLE;
 150              		.loc 1 97 9 view .LVU40
  97:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_filter_parameter_struct *)p_struct)->filter_enable = DISABLE;
 151              		.loc 1 97 64 is_stmt 0 view .LVU41
 152 002a 0123     		movs	r3, #1
 153 002c CB81     		strh	r3, [r1, #14]	@ movhi
  98:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_filter_parameter_struct *)p_struct)->filter_fifo_number = CAN_FIFO0;
 154              		.loc 1 98 9 is_stmt 1 view .LVU42
  98:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_filter_parameter_struct *)p_struct)->filter_fifo_number = CAN_FIFO0;
 155              		.loc 1 98 66 is_stmt 0 view .LVU43
 156 002e 0023     		movs	r3, #0
 157 0030 0B74     		strb	r3, [r1, #16]
  99:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_filter_parameter_struct *)p_struct)->filter_list_high = 0x0000U;
 158              		.loc 1 99 9 is_stmt 1 view .LVU44
  99:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_filter_parameter_struct *)p_struct)->filter_list_high = 0x0000U;
 159              		.loc 1 99 71 is_stmt 0 view .LVU45
 160 0032 0B81     		strh	r3, [r1, #8]	@ movhi
 100:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_filter_parameter_struct *)p_struct)->filter_list_low = 0x0000U;
 161              		.loc 1 100 9 is_stmt 1 view .LVU46
 100:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_filter_parameter_struct *)p_struct)->filter_list_low = 0x0000U;
 162              		.loc 1 100 69 is_stmt 0 view .LVU47
 163 0034 0B80     		strh	r3, [r1]	@ movhi
 101:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_filter_parameter_struct *)p_struct)->filter_mask_high = 0x0000U;
 164              		.loc 1 101 9 is_stmt 1 view .LVU48
 101:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_filter_parameter_struct *)p_struct)->filter_mask_high = 0x0000U;
 165              		.loc 1 101 68 is_stmt 0 view .LVU49
 166 0036 4B80     		strh	r3, [r1, #2]	@ movhi
 102:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_filter_parameter_struct *)p_struct)->filter_mask_low = 0x0000U;
 167              		.loc 1 102 9 is_stmt 1 view .LVU50
 102:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_filter_parameter_struct *)p_struct)->filter_mask_low = 0x0000U;
 168              		.loc 1 102 69 is_stmt 0 view .LVU51
 169 0038 8B80     		strh	r3, [r1, #4]	@ movhi
ARM GAS  /tmp/ccYq1EAb.s 			page 7


 103:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_filter_parameter_struct *)p_struct)->filter_mode = CAN_FILTERMODE_MASK;
 170              		.loc 1 103 9 is_stmt 1 view .LVU52
 103:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_filter_parameter_struct *)p_struct)->filter_mode = CAN_FILTERMODE_MASK;
 171              		.loc 1 103 68 is_stmt 0 view .LVU53
 172 003a CB80     		strh	r3, [r1, #6]	@ movhi
 104:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_filter_parameter_struct *)p_struct)->filter_number = 0U;
 173              		.loc 1 104 9 is_stmt 1 view .LVU54
 104:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_filter_parameter_struct *)p_struct)->filter_number = 0U;
 174              		.loc 1 104 64 is_stmt 0 view .LVU55
 175 003c 8B81     		strh	r3, [r1, #12]	@ movhi
 176 003e F2E7     		b	.L15
 177              	.L10:
 111:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         }
 178              		.loc 1 111 67 view .LVU56
 179 0040 0023     		movs	r3, #0
 180 0042 C1F80B30 		str	r3, [r1, #11]	@ unaligned
 181 0046 C1F80F30 		str	r3, [r1, #15]	@ unaligned
 114:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_trasnmit_message_struct *)p_struct)->tx_efid = 0U;
 182              		.loc 1 114 9 is_stmt 1 view .LVU57
 115:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_trasnmit_message_struct *)p_struct)->tx_ff = (uint8_t)CAN_FF_STANDARD;
 183              		.loc 1 115 9 view .LVU58
 116:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_trasnmit_message_struct *)p_struct)->tx_ft = (uint8_t)CAN_FT_DATA;
 184              		.loc 1 116 9 view .LVU59
 117:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_trasnmit_message_struct *)p_struct)->tx_sfid = 0U;
 185              		.loc 1 117 9 view .LVU60
 118:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 186              		.loc 1 118 9 view .LVU61
 187              	.L16:
 131:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_receive_message_struct *)p_struct)->rx_sfid = 0U;
 188              		.loc 1 131 9 view .LVU62
 132:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 189              		.loc 1 132 9 view .LVU63
 128:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_receive_message_struct *)p_struct)->rx_ff = (uint8_t)CAN_FF_STANDARD;
 190              		.loc 1 128 59 is_stmt 0 view .LVU64
 191 004a C1E90033 		strd	r3, r3, [r1]
 129:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_receive_message_struct *)p_struct)->rx_fi = 0U;
 192              		.loc 1 129 57 view .LVU65
 193 004e 0B81     		strh	r3, [r1, #8]	@ movhi
 127:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_receive_message_struct *)p_struct)->rx_efid = 0U;
 194              		.loc 1 127 59 view .LVU66
 195 0050 8B72     		strb	r3, [r1, #10]
 134:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 196              		.loc 1 134 9 is_stmt 1 view .LVU67
 138:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 139:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 197              		.loc 1 139 1 is_stmt 0 view .LVU68
 198 0052 7047     		bx	lr
 199              	.L8:
 124:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         }
 200              		.loc 1 124 66 view .LVU69
 201 0054 0023     		movs	r3, #0
 202 0056 C1F80B30 		str	r3, [r1, #11]	@ unaligned
 203 005a C1F80F30 		str	r3, [r1, #15]	@ unaligned
 127:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_receive_message_struct *)p_struct)->rx_efid = 0U;
 204              		.loc 1 127 9 is_stmt 1 view .LVU70
 128:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_receive_message_struct *)p_struct)->rx_ff = (uint8_t)CAN_FF_STANDARD;
 205              		.loc 1 128 9 view .LVU71
ARM GAS  /tmp/ccYq1EAb.s 			page 8


 129:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_receive_message_struct *)p_struct)->rx_fi = 0U;
 206              		.loc 1 129 9 view .LVU72
 130:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_receive_message_struct *)p_struct)->rx_ft = (uint8_t)CAN_FT_DATA;
 207              		.loc 1 130 9 view .LVU73
 130:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ((can_receive_message_struct *)p_struct)->rx_ft = (uint8_t)CAN_FT_DATA;
 208              		.loc 1 130 57 is_stmt 0 view .LVU74
 209 005e CB74     		strb	r3, [r1, #19]
 210 0060 F3E7     		b	.L16
 211              		.cfi_endproc
 212              	.LFE117:
 214              		.section	.text.can_init,"ax",%progbits
 215              		.align	1
 216              		.global	can_init
 217              		.syntax unified
 218              		.thumb
 219              		.thumb_func
 221              	can_init:
 222              	.LVL7:
 223              	.LFB118:
 140:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 141:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*!
 142:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \brief      initialize CAN
 143:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  can_periph
 144:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CANx(x=0,1)
 145:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  can_parameter_init: parameters for CAN initializtion
 146:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        working_mode: CAN_NORMAL_MODE, CAN_LOOPBACK_MODE, CAN_SILENT_MODE, CAN_SILENT_LOO
 147:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        resync_jump_width: CAN_BT_SJW_xTQ(x=1, 2, 3, 4)
 148:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        time_segment_1: CAN_BT_BS1_xTQ(1..16)
 149:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        time_segment_2: CAN_BT_BS2_xTQ(1..8)
 150:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        time_triggered: ENABLE or DISABLE
 151:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        auto_bus_off_recovery: ENABLE or DISABLE
 152:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        auto_wake_up: ENABLE or DISABLE
 153:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        auto_retrans: ENABLE or DISABLE
 154:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        rec_fifo_overwrite: ENABLE or DISABLE
 155:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        trans_fifo_order: ENABLE or DISABLE
 156:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        prescaler: 0x0001 - 0x0400
 157:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[out] none
 158:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \retval     ErrStatus: SUCCESS or ERROR
 159:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
 160:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** ErrStatus can_init(uint32_t can_periph, can_parameter_struct *can_parameter_init)
 161:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
 224              		.loc 1 161 1 is_stmt 1 view -0
 225              		.cfi_startproc
 226              		@ args = 0, pretend = 0, frame = 0
 227              		@ frame_needed = 0, uses_anonymous_args = 0
 162:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     uint32_t timeout = CAN_TIMEOUT;
 228              		.loc 1 162 5 view .LVU76
 163:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     ErrStatus flag = ERROR;
 229              		.loc 1 163 5 view .LVU77
 164:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 165:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* disable sleep mode */
 166:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     CAN_CTL(can_periph) &= ~CAN_CTL_SLPWMOD;
 230              		.loc 1 166 5 view .LVU78
 231 0000 0268     		ldr	r2, [r0]
 232              		.loc 1 166 25 is_stmt 0 view .LVU79
 233 0002 22F00202 		bic	r2, r2, #2
 161:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     uint32_t timeout = CAN_TIMEOUT;
ARM GAS  /tmp/ccYq1EAb.s 			page 9


 234              		.loc 1 161 1 view .LVU80
 235 0006 10B5     		push	{r4, lr}
 236              	.LCFI3:
 237              		.cfi_def_cfa_offset 8
 238              		.cfi_offset 4, -8
 239              		.cfi_offset 14, -4
 240              		.loc 1 166 25 view .LVU81
 241 0008 0260     		str	r2, [r0]
 167:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* enable initialize mode */
 168:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     CAN_CTL(can_periph) |= CAN_CTL_IWMOD;
 242              		.loc 1 168 5 is_stmt 1 view .LVU82
 243 000a 0268     		ldr	r2, [r0]
 244              		.loc 1 168 25 is_stmt 0 view .LVU83
 245 000c 42F00102 		orr	r2, r2, #1
 246 0010 0260     		str	r2, [r0]
 169:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* wait ACK */
 170:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     while((CAN_STAT_IWS != (CAN_STAT(can_periph) & CAN_STAT_IWS)) && (0U != timeout)) {
 247              		.loc 1 170 5 is_stmt 1 view .LVU84
 161:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     uint32_t timeout = CAN_TIMEOUT;
 248              		.loc 1 161 1 is_stmt 0 view .LVU85
 249 0012 0346     		mov	r3, r0
 250              		.loc 1 170 10 view .LVU86
 251 0014 4FF48032 		mov	r2, #65536
 252              	.LVL8:
 253              	.L21:
 254              		.loc 1 170 67 is_stmt 1 view .LVU87
 255              		.loc 1 170 29 is_stmt 0 view .LVU88
 256 0018 5868     		ldr	r0, [r3, #4]
 257              		.loc 1 170 67 view .LVU89
 258 001a C007     		lsls	r0, r0, #31
 259              		.loc 1 170 29 view .LVU90
 260 001c 03F10404 		add	r4, r3, #4
 261              		.loc 1 170 67 view .LVU91
 262 0020 5ED5     		bpl	.L18
 263              	.LVL9:
 264              	.L22:
 171:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         timeout--;
 172:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 173:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* check initialize working success */
 174:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     if(CAN_STAT_IWS != (CAN_STAT(can_periph) & CAN_STAT_IWS)) {
 265              		.loc 1 174 5 is_stmt 1 view .LVU92
 266              		.loc 1 174 25 is_stmt 0 view .LVU93
 267 0022 5868     		ldr	r0, [r3, #4]
 268              		.loc 1 174 7 view .LVU94
 269 0024 10F00100 		ands	r0, r0, #1
 270 0028 59D0     		beq	.L19
 175:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         flag = ERROR;
 176:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else {
 177:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* set the bit timing register */
 178:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_BT(can_periph) = (BT_MODE((uint32_t)can_parameter_init->working_mode) | \
 271              		.loc 1 178 9 is_stmt 1 view .LVU95
 179:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                               BT_SJW((uint32_t)can_parameter_init->resync_jump_width) | \
 272              		.loc 1 179 31 is_stmt 0 view .LVU96
 273 002a 4A78     		ldrb	r2, [r1, #1]	@ zero_extendqisi2
 180:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                               BT_BS1((uint32_t)can_parameter_init->time_segment_1) | \
 274              		.loc 1 180 31 view .LVU97
 275 002c 8878     		ldrb	r0, [r1, #2]	@ zero_extendqisi2
ARM GAS  /tmp/ccYq1EAb.s 			page 10


 179:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                               BT_SJW((uint32_t)can_parameter_init->resync_jump_width) | \
 276              		.loc 1 179 31 view .LVU98
 277 002e 1206     		lsls	r2, r2, #24
 278              		.loc 1 180 31 view .LVU99
 279 0030 0004     		lsls	r0, r0, #16
 280 0032 00F47020 		and	r0, r0, #983040
 179:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                               BT_SJW((uint32_t)can_parameter_init->resync_jump_width) | \
 281              		.loc 1 179 31 view .LVU100
 282 0036 02F04072 		and	r2, r2, #50331648
 179:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                               BT_SJW((uint32_t)can_parameter_init->resync_jump_width) | \
 283              		.loc 1 179 87 view .LVU101
 284 003a 0243     		orrs	r2, r2, r0
 178:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                               BT_SJW((uint32_t)can_parameter_init->resync_jump_width) | \
 285              		.loc 1 178 31 view .LVU102
 286 003c 0878     		ldrb	r0, [r1]	@ zero_extendqisi2
 179:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                               BT_SJW((uint32_t)can_parameter_init->resync_jump_width) | \
 287              		.loc 1 179 87 view .LVU103
 288 003e 42EA8072 		orr	r2, r2, r0, lsl #30
 181:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                               BT_BS2((uint32_t)can_parameter_init->time_segment_2) | \
 289              		.loc 1 181 31 view .LVU104
 290 0042 C878     		ldrb	r0, [r1, #3]	@ zero_extendqisi2
 291 0044 0005     		lsls	r0, r0, #20
 292 0046 00F4E000 		and	r0, r0, #7340032
 180:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                               BT_BS1((uint32_t)can_parameter_init->time_segment_1) | \
 293              		.loc 1 180 84 view .LVU105
 294 004a 0243     		orrs	r2, r2, r0
 182:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                               BT_BAUDPSC(((uint32_t)(can_parameter_init->prescaler) - 1U)));
 295              		.loc 1 182 31 view .LVU106
 296 004c 4889     		ldrh	r0, [r1, #10]
 297 004e 0138     		subs	r0, r0, #1
 298 0050 C0F30900 		ubfx	r0, r0, #0, #10
 181:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                               BT_BS2((uint32_t)can_parameter_init->time_segment_2) | \
 299              		.loc 1 181 84 view .LVU107
 300 0054 0243     		orrs	r2, r2, r0
 178:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                               BT_SJW((uint32_t)can_parameter_init->resync_jump_width) | \
 301              		.loc 1 178 28 view .LVU108
 302 0056 DA61     		str	r2, [r3, #28]
 183:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 184:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* time trigger communication mode */
 185:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         if(ENABLE == can_parameter_init->time_triggered) {
 303              		.loc 1 185 9 is_stmt 1 view .LVU109
 304              		.loc 1 185 11 is_stmt 0 view .LVU110
 305 0058 0A79     		ldrb	r2, [r1, #4]	@ zero_extendqisi2
 306 005a 012A     		cmp	r2, #1
 186:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             CAN_CTL(can_periph) |= CAN_CTL_TTC;
 307              		.loc 1 186 13 view .LVU111
 308 005c 1A68     		ldr	r2, [r3]
 309              		.loc 1 186 13 is_stmt 1 view .LVU112
 310              		.loc 1 186 33 is_stmt 0 view .LVU113
 311 005e 0CBF     		ite	eq
 312 0060 42F08002 		orreq	r2, r2, #128
 187:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         } else {
 188:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             CAN_CTL(can_periph) &= ~CAN_CTL_TTC;
 313              		.loc 1 188 13 is_stmt 1 view .LVU114
 314              		.loc 1 188 33 is_stmt 0 view .LVU115
 315 0064 22F08002 		bicne	r2, r2, #128
 316 0068 1A60     		str	r2, [r3]
ARM GAS  /tmp/ccYq1EAb.s 			page 11


 189:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         }
 190:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* automatic bus-off management */
 191:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         if(ENABLE == can_parameter_init->auto_bus_off_recovery) {
 317              		.loc 1 191 9 is_stmt 1 view .LVU116
 318              		.loc 1 191 11 is_stmt 0 view .LVU117
 319 006a 4A79     		ldrb	r2, [r1, #5]	@ zero_extendqisi2
 320 006c 012A     		cmp	r2, #1
 192:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             CAN_CTL(can_periph) |= CAN_CTL_ABOR;
 321              		.loc 1 192 13 view .LVU118
 322 006e 1A68     		ldr	r2, [r3]
 323              		.loc 1 192 13 is_stmt 1 view .LVU119
 324              		.loc 1 192 33 is_stmt 0 view .LVU120
 325 0070 0CBF     		ite	eq
 326 0072 42F04002 		orreq	r2, r2, #64
 193:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         } else {
 194:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             CAN_CTL(can_periph) &= ~CAN_CTL_ABOR;
 327              		.loc 1 194 13 is_stmt 1 view .LVU121
 328              		.loc 1 194 33 is_stmt 0 view .LVU122
 329 0076 22F04002 		bicne	r2, r2, #64
 330 007a 1A60     		str	r2, [r3]
 195:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         }
 196:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* automatic wakeup mode */
 197:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         if(ENABLE == can_parameter_init->auto_wake_up) {
 331              		.loc 1 197 9 is_stmt 1 view .LVU123
 332              		.loc 1 197 11 is_stmt 0 view .LVU124
 333 007c 8A79     		ldrb	r2, [r1, #6]	@ zero_extendqisi2
 334 007e 012A     		cmp	r2, #1
 198:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             CAN_CTL(can_periph) |= CAN_CTL_AWU;
 335              		.loc 1 198 13 view .LVU125
 336 0080 1A68     		ldr	r2, [r3]
 337              		.loc 1 198 13 is_stmt 1 view .LVU126
 338              		.loc 1 198 33 is_stmt 0 view .LVU127
 339 0082 0CBF     		ite	eq
 340 0084 42F02002 		orreq	r2, r2, #32
 199:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         } else {
 200:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             CAN_CTL(can_periph) &= ~CAN_CTL_AWU;
 341              		.loc 1 200 13 is_stmt 1 view .LVU128
 342              		.loc 1 200 33 is_stmt 0 view .LVU129
 343 0088 22F02002 		bicne	r2, r2, #32
 344 008c 1A60     		str	r2, [r3]
 201:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         }
 202:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* automatic retransmission mode disable */
 203:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         if(ENABLE == can_parameter_init->auto_retrans) {
 345              		.loc 1 203 9 is_stmt 1 view .LVU130
 346              		.loc 1 203 11 is_stmt 0 view .LVU131
 347 008e CA79     		ldrb	r2, [r1, #7]	@ zero_extendqisi2
 348 0090 012A     		cmp	r2, #1
 204:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             CAN_CTL(can_periph) &= ~CAN_CTL_ARD;
 349              		.loc 1 204 13 view .LVU132
 350 0092 1A68     		ldr	r2, [r3]
 351              		.loc 1 204 13 is_stmt 1 view .LVU133
 352              		.loc 1 204 33 is_stmt 0 view .LVU134
 353 0094 0CBF     		ite	eq
 354 0096 22F01002 		biceq	r2, r2, #16
 205:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         } else {
 206:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             CAN_CTL(can_periph) |= CAN_CTL_ARD;
 355              		.loc 1 206 13 is_stmt 1 view .LVU135
ARM GAS  /tmp/ccYq1EAb.s 			page 12


 356              		.loc 1 206 33 is_stmt 0 view .LVU136
 357 009a 42F01002 		orrne	r2, r2, #16
 358 009e 1A60     		str	r2, [r3]
 207:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         }
 208:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* receive FIFO overwrite mode disable */
 209:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         if(ENABLE == can_parameter_init->rec_fifo_overwrite) {
 359              		.loc 1 209 9 is_stmt 1 view .LVU137
 360              		.loc 1 209 11 is_stmt 0 view .LVU138
 361 00a0 0A7A     		ldrb	r2, [r1, #8]	@ zero_extendqisi2
 362 00a2 012A     		cmp	r2, #1
 210:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             CAN_CTL(can_periph) &= ~CAN_CTL_RFOD;
 363              		.loc 1 210 13 view .LVU139
 364 00a4 1A68     		ldr	r2, [r3]
 365              		.loc 1 210 13 is_stmt 1 view .LVU140
 366              		.loc 1 210 33 is_stmt 0 view .LVU141
 367 00a6 0CBF     		ite	eq
 368 00a8 22F00802 		biceq	r2, r2, #8
 211:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         } else {
 212:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             CAN_CTL(can_periph) |= CAN_CTL_RFOD;
 369              		.loc 1 212 13 is_stmt 1 view .LVU142
 370              		.loc 1 212 33 is_stmt 0 view .LVU143
 371 00ac 42F00802 		orrne	r2, r2, #8
 372 00b0 1A60     		str	r2, [r3]
 213:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         }
 214:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* transmit FIFO order */
 215:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         if(ENABLE == can_parameter_init->trans_fifo_order) {
 373              		.loc 1 215 9 is_stmt 1 view .LVU144
 374              		.loc 1 215 11 is_stmt 0 view .LVU145
 375 00b2 4A7A     		ldrb	r2, [r1, #9]	@ zero_extendqisi2
 376 00b4 012A     		cmp	r2, #1
 216:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             CAN_CTL(can_periph) |= CAN_CTL_TFO;
 377              		.loc 1 216 13 view .LVU146
 378 00b6 1A68     		ldr	r2, [r3]
 379              		.loc 1 216 13 is_stmt 1 view .LVU147
 380              		.loc 1 216 33 is_stmt 0 view .LVU148
 381 00b8 0CBF     		ite	eq
 382 00ba 42F00402 		orreq	r2, r2, #4
 217:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         } else {
 218:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             CAN_CTL(can_periph) &= ~CAN_CTL_TFO;
 383              		.loc 1 218 13 is_stmt 1 view .LVU149
 384              		.loc 1 218 33 is_stmt 0 view .LVU150
 385 00be 22F00402 		bicne	r2, r2, #4
 386 00c2 1A60     		str	r2, [r3]
 219:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         }
 220:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* disable initialize mode */
 221:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_CTL(can_periph) &= ~CAN_CTL_IWMOD;
 387              		.loc 1 221 9 is_stmt 1 view .LVU151
 388 00c4 1A68     		ldr	r2, [r3]
 389              		.loc 1 221 29 is_stmt 0 view .LVU152
 390 00c6 22F00102 		bic	r2, r2, #1
 391 00ca 1A60     		str	r2, [r3]
 222:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         timeout = CAN_TIMEOUT;
 392              		.loc 1 222 9 is_stmt 1 view .LVU153
 393              	.LVL10:
 223:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* wait the ACK */
 224:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         while((CAN_STAT_IWS == (CAN_STAT(can_periph) & CAN_STAT_IWS)) && (0U != timeout)) {
 394              		.loc 1 224 9 view .LVU154
ARM GAS  /tmp/ccYq1EAb.s 			page 13


 222:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         timeout = CAN_TIMEOUT;
 395              		.loc 1 222 17 is_stmt 0 view .LVU155
 396 00cc 4FF6FF70 		movw	r0, #65535
 397              	.LVL11:
 398              	.L35:
 399              		.loc 1 224 71 is_stmt 1 view .LVU156
 400              		.loc 1 224 33 is_stmt 0 view .LVU157
 401 00d0 2368     		ldr	r3, [r4]
 402              		.loc 1 224 71 view .LVU158
 403 00d2 DB07     		lsls	r3, r3, #31
 404 00d4 00D5     		bpl	.L36
 405              		.loc 1 224 71 discriminator 1 view .LVU159
 406 00d6 30B9     		cbnz	r0, .L37
 407              	.L36:
 225:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             timeout--;
 226:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         }
 227:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* check exit initialize mode */
 228:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         if(0U != timeout) {
 408              		.loc 1 228 9 is_stmt 1 view .LVU160
 409              		.loc 1 228 11 is_stmt 0 view .LVU161
 410 00d8 0038     		subs	r0, r0, #0
 411              		.loc 1 228 11 view .LVU162
 412 00da 18BF     		it	ne
 413 00dc 0120     		movne	r0, #1
 414              	.LVL12:
 415              	.L19:
 229:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             flag = SUCCESS;
 230:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         }
 231:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 232:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     return flag;
 416              		.loc 1 232 5 is_stmt 1 view .LVU163
 233:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 417              		.loc 1 233 1 is_stmt 0 view .LVU164
 418 00de 10BD     		pop	{r4, pc}
 419              	.LVL13:
 420              	.L18:
 170:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         timeout--;
 421              		.loc 1 170 67 discriminator 1 view .LVU165
 422 00e0 013A     		subs	r2, r2, #1
 423              	.LVL14:
 170:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         timeout--;
 424              		.loc 1 170 67 discriminator 1 view .LVU166
 425 00e2 99D1     		bne	.L21
 426 00e4 9DE7     		b	.L22
 427              	.LVL15:
 428              	.L37:
 225:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         }
 429              		.loc 1 225 13 is_stmt 1 view .LVU167
 225:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         }
 430              		.loc 1 225 20 is_stmt 0 view .LVU168
 431 00e6 0138     		subs	r0, r0, #1
 432              	.LVL16:
 225:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         }
 433              		.loc 1 225 20 view .LVU169
 434 00e8 F2E7     		b	.L35
 435              		.cfi_endproc
 436              	.LFE118:
ARM GAS  /tmp/ccYq1EAb.s 			page 14


 438              		.section	.text.can_filter_init,"ax",%progbits
 439              		.align	1
 440              		.global	can_filter_init
 441              		.syntax unified
 442              		.thumb
 443              		.thumb_func
 445              	can_filter_init:
 446              	.LVL17:
 447              	.LFB119:
 234:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 235:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*!
 236:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \brief      initialize CAN filter
 237:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  can_filter_parameter_init: struct for CAN filter initialization
 238:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        filter_list_high: 0x0000 - 0xFFFF
 239:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        filter_list_low: 0x0000 - 0xFFFF
 240:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        filter_mask_high: 0x0000 - 0xFFFF
 241:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        filter_mask_low: 0x0000 - 0xFFFF
 242:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        filter_fifo_number: CAN_FIFO0, CAN_FIFO1
 243:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        filter_number: 0 - 27
 244:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        filter_mode: CAN_FILTERMODE_MASK, CAN_FILTERMODE_LIST
 245:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        filter_bits: CAN_FILTERBITS_32BIT, CAN_FILTERBITS_16BIT
 246:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        filter_enable: ENABLE or DISABLE
 247:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[out] none
 248:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \retval     none
 249:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
 250:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** void can_filter_init(can_filter_parameter_struct *can_filter_parameter_init)
 251:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
 448              		.loc 1 251 1 is_stmt 1 view -0
 449              		.cfi_startproc
 450              		@ args = 0, pretend = 0, frame = 0
 451              		@ frame_needed = 0, uses_anonymous_args = 0
 252:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     uint32_t val = 0U;
 452              		.loc 1 252 5 view .LVU171
 253:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 254:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     val = ((uint32_t)1) << (can_filter_parameter_init->filter_number);
 453              		.loc 1 254 5 view .LVU172
 255:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* filter lock disable */
 256:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     CAN_FCTL(CAN0) |= CAN_FCTL_FLD;
 454              		.loc 1 256 5 is_stmt 0 view .LVU173
 455 0000 324A     		ldr	r2, .L60
 254:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* filter lock disable */
 456              		.loc 1 254 54 view .LVU174
 457 0002 4389     		ldrh	r3, [r0, #10]
 251:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     uint32_t val = 0U;
 458              		.loc 1 251 1 view .LVU175
 459 0004 30B5     		push	{r4, r5, lr}
 460              	.LCFI4:
 461              		.cfi_def_cfa_offset 12
 462              		.cfi_offset 4, -12
 463              		.cfi_offset 5, -8
 464              		.cfi_offset 14, -4
 465              		.loc 1 256 5 view .LVU176
 466 0006 D2F80046 		ldr	r4, [r2, #1536]
 467              		.loc 1 256 20 view .LVU177
 468 000a 44F00104 		orr	r4, r4, #1
 469 000e C2F80046 		str	r4, [r2, #1536]
 257:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* disable filter */
ARM GAS  /tmp/ccYq1EAb.s 			page 15


 258:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     CAN_FW(CAN0) &= ~(uint32_t)val;
 470              		.loc 1 258 5 view .LVU178
 471 0012 D2F81C56 		ldr	r5, [r2, #1564]
 254:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* filter lock disable */
 472              		.loc 1 254 9 view .LVU179
 473 0016 0121     		movs	r1, #1
 474 0018 9940     		lsls	r1, r1, r3
 475              	.LVL18:
 256:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* disable filter */
 476              		.loc 1 256 5 is_stmt 1 view .LVU180
 477              		.loc 1 258 5 view .LVU181
 478              		.loc 1 258 18 is_stmt 0 view .LVU182
 479 001a 25EA0105 		bic	r5, r5, r1
 480 001e C2F81C56 		str	r5, [r2, #1564]
 259:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 260:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* filter 16 bits */
 261:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     if(CAN_FILTERBITS_16BIT == can_filter_parameter_init->filter_bits) {
 481              		.loc 1 261 5 is_stmt 1 view .LVU183
 482              		.loc 1 261 57 is_stmt 0 view .LVU184
 483 0022 C589     		ldrh	r5, [r0, #14]
 258:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 484              		.loc 1 258 21 view .LVU185
 485 0024 CC43     		mvns	r4, r1
 486              		.loc 1 261 7 view .LVU186
 487 0026 002D     		cmp	r5, #0
 488 0028 32D1     		bne	.L51
 262:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* set filter 16 bits */
 263:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_FSCFG(CAN0) &= ~(uint32_t)val;
 489              		.loc 1 263 9 is_stmt 1 view .LVU187
 490 002a D2F80C56 		ldr	r5, [r2, #1548]
 264:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* first 16 bits list and first 16 bits mask or first 16 bits list and second 16 bits list 
 265:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_FDATA0(CAN0, can_filter_parameter_init->filter_number) = \
 491              		.loc 1 265 9 is_stmt 0 view .LVU188
 492 002e 03F10063 		add	r3, r3, #134217728
 263:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* first 16 bits list and first 16 bits mask or first 16 bits list and second 16 bits list 
 493              		.loc 1 263 25 view .LVU189
 494 0032 2540     		ands	r5, r5, r4
 495 0034 C2F80C56 		str	r5, [r2, #1548]
 496              		.loc 1 265 9 is_stmt 1 view .LVU190
 497 0038 03F6C843 		addw	r3, r3, #3272
 266:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 FDATA_MASK_HIGH((can_filter_parameter_init->filter_mask_low) & CAN_FILTER_MASK_16BI
 498              		.loc 1 266 17 is_stmt 0 view .LVU191
 499 003c C588     		ldrh	r5, [r0, #6]
 267:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 FDATA_MASK_LOW((can_filter_parameter_init->filter_list_low) & CAN_FILTER_MASK_16BIT
 500              		.loc 1 267 17 view .LVU192
 501 003e 4288     		ldrh	r2, [r0, #2]
 265:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 FDATA_MASK_HIGH((can_filter_parameter_init->filter_mask_low) & CAN_FILTER_MASK_16BI
 502              		.loc 1 265 9 view .LVU193
 503 0040 DB00     		lsls	r3, r3, #3
 266:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 FDATA_MASK_HIGH((can_filter_parameter_init->filter_mask_low) & CAN_FILTER_MASK_16BI
 504              		.loc 1 266 104 view .LVU194
 505 0042 42EA0542 		orr	r2, r2, r5, lsl #16
 265:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 FDATA_MASK_HIGH((can_filter_parameter_init->filter_mask_low) & CAN_FILTER_MASK_16BI
 506              		.loc 1 265 68 view .LVU195
 507 0046 1A60     		str	r2, [r3]
 268:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* second 16 bits list and second 16 bits mask or third 16 bits list and fourth 16 bits lis
 269:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_FDATA1(CAN0, can_filter_parameter_init->filter_number) = \
ARM GAS  /tmp/ccYq1EAb.s 			page 16


 508              		.loc 1 269 9 is_stmt 1 view .LVU196
 270:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 FDATA_MASK_HIGH((can_filter_parameter_init->filter_mask_high) & CAN_FILTER_MASK_16B
 509              		.loc 1 270 17 is_stmt 0 view .LVU197
 510 0048 8588     		ldrh	r5, [r0, #4]
 271:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 FDATA_MASK_LOW((can_filter_parameter_init->filter_list_high) & CAN_FILTER_MASK_16BI
 511              		.loc 1 271 17 view .LVU198
 512 004a 0288     		ldrh	r2, [r0]
 513              	.L58:
 272:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 273:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* filter 32 bits */
 274:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     if(CAN_FILTERBITS_32BIT == can_filter_parameter_init->filter_bits) {
 275:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* set filter 32 bits */
 276:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_FSCFG(CAN0) |= (uint32_t)val;
 277:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* 32 bits list or first 32 bits list */
 278:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_FDATA0(CAN0, can_filter_parameter_init->filter_number) = \
 279:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 FDATA_MASK_HIGH((can_filter_parameter_init->filter_list_high) & CAN_FILTER_MASK_16B
 280:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 FDATA_MASK_LOW((can_filter_parameter_init->filter_list_low) & CAN_FILTER_MASK_16BIT
 281:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* 32 bits mask or second 32 bits list */
 282:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_FDATA1(CAN0, can_filter_parameter_init->filter_number) = \
 283:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 FDATA_MASK_HIGH((can_filter_parameter_init->filter_mask_high) & CAN_FILTER_MASK_16B
 514              		.loc 1 283 105 view .LVU199
 515 004c 42EA0542 		orr	r2, r2, r5, lsl #16
 282:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 FDATA_MASK_HIGH((can_filter_parameter_init->filter_mask_high) & CAN_FILTER_MASK_16B
 516              		.loc 1 282 68 view .LVU200
 517 0050 5A60     		str	r2, [r3, #4]
 518              	.L52:
 284:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 FDATA_MASK_LOW((can_filter_parameter_init->filter_mask_low) & CAN_FILTER_MASK_16BIT
 285:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 286:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 287:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* filter mode */
 288:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     if(CAN_FILTERMODE_MASK == can_filter_parameter_init->filter_mode) {
 519              		.loc 1 288 5 is_stmt 1 view .LVU201
 520              		.loc 1 288 7 is_stmt 0 view .LVU202
 521 0052 8289     		ldrh	r2, [r0, #12]
 522 0054 1D4B     		ldr	r3, .L60
 523 0056 7ABB     		cbnz	r2, .L53
 289:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* mask mode */
 290:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_FMCFG(CAN0) &= ~(uint32_t)val;
 524              		.loc 1 290 9 is_stmt 1 view .LVU203
 525 0058 D3F80426 		ldr	r2, [r3, #1540]
 526              		.loc 1 290 25 is_stmt 0 view .LVU204
 527 005c 2240     		ands	r2, r2, r4
 528              	.L59:
 291:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else {
 292:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* list mode */
 293:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_FMCFG(CAN0) |= (uint32_t)val;
 529              		.loc 1 293 25 view .LVU205
 530 005e C3F80426 		str	r2, [r3, #1540]
 294:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 295:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 296:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* filter FIFO */
 297:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     if(CAN_FIFO0 == (can_filter_parameter_init->filter_fifo_number)) {
 531              		.loc 1 297 5 is_stmt 1 view .LVU206
 532              		.loc 1 297 7 is_stmt 0 view .LVU207
 533 0062 0289     		ldrh	r2, [r0, #8]
 534 0064 62BB     		cbnz	r2, .L55
 298:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* FIFO0 */
ARM GAS  /tmp/ccYq1EAb.s 			page 17


 299:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_FAFIFO(CAN0) &= ~(uint32_t)val;
 535              		.loc 1 299 9 is_stmt 1 view .LVU208
 536 0066 D3F81426 		ldr	r2, [r3, #1556]
 537              		.loc 1 299 26 is_stmt 0 view .LVU209
 538 006a 1440     		ands	r4, r4, r2
 539 006c C3F81446 		str	r4, [r3, #1556]
 540              	.L56:
 300:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else {
 301:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* FIFO1 */
 302:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_FAFIFO(CAN0) |= (uint32_t)val;
 303:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 304:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 305:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* filter working */
 306:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     if(ENABLE == can_filter_parameter_init->filter_enable) {
 541              		.loc 1 306 5 is_stmt 1 view .LVU210
 542              		.loc 1 306 7 is_stmt 0 view .LVU211
 543 0070 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 544 0072 012B     		cmp	r3, #1
 545 0074 154B     		ldr	r3, .L60
 307:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 308:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_FW(CAN0) |= (uint32_t)val;
 546              		.loc 1 308 9 is_stmt 1 view .LVU212
 547 0076 02BF     		ittt	eq
 548 0078 D3F81C26 		ldreq	r2, [r3, #1564]
 549              		.loc 1 308 22 is_stmt 0 view .LVU213
 550 007c 0A43     		orreq	r2, r2, r1
 551 007e C3F81C26 		streq	r2, [r3, #1564]
 309:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 310:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 311:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* filter lock enable */
 312:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     CAN_FCTL(CAN0) &= ~CAN_FCTL_FLD;
 552              		.loc 1 312 5 is_stmt 1 view .LVU214
 553 0082 D3F80026 		ldr	r2, [r3, #1536]
 554              		.loc 1 312 20 is_stmt 0 view .LVU215
 555 0086 22F00102 		bic	r2, r2, #1
 556 008a C3F80026 		str	r2, [r3, #1536]
 313:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 557              		.loc 1 313 1 view .LVU216
 558 008e 30BD     		pop	{r4, r5, pc}
 559              	.L51:
 274:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* set filter 32 bits */
 560              		.loc 1 274 5 is_stmt 1 view .LVU217
 274:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* set filter 32 bits */
 561              		.loc 1 274 7 is_stmt 0 view .LVU218
 562 0090 012D     		cmp	r5, #1
 563 0092 DED1     		bne	.L52
 276:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* 32 bits list or first 32 bits list */
 564              		.loc 1 276 9 is_stmt 1 view .LVU219
 565 0094 D2F80C56 		ldr	r5, [r2, #1548]
 278:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 FDATA_MASK_HIGH((can_filter_parameter_init->filter_list_high) & CAN_FILTER_MASK_16B
 566              		.loc 1 278 9 is_stmt 0 view .LVU220
 567 0098 03F10063 		add	r3, r3, #134217728
 276:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* 32 bits list or first 32 bits list */
 568              		.loc 1 276 25 view .LVU221
 569 009c 0D43     		orrs	r5, r5, r1
 570 009e C2F80C56 		str	r5, [r2, #1548]
 278:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 FDATA_MASK_HIGH((can_filter_parameter_init->filter_list_high) & CAN_FILTER_MASK_16B
ARM GAS  /tmp/ccYq1EAb.s 			page 18


 571              		.loc 1 278 9 is_stmt 1 view .LVU222
 572 00a2 03F6C843 		addw	r3, r3, #3272
 279:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 FDATA_MASK_LOW((can_filter_parameter_init->filter_list_low) & CAN_FILTER_MASK_16BIT
 573              		.loc 1 279 17 is_stmt 0 view .LVU223
 574 00a6 0588     		ldrh	r5, [r0]
 280:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* 32 bits mask or second 32 bits list */
 575              		.loc 1 280 17 view .LVU224
 576 00a8 4288     		ldrh	r2, [r0, #2]
 278:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 FDATA_MASK_HIGH((can_filter_parameter_init->filter_list_high) & CAN_FILTER_MASK_16B
 577              		.loc 1 278 9 view .LVU225
 578 00aa DB00     		lsls	r3, r3, #3
 279:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 FDATA_MASK_LOW((can_filter_parameter_init->filter_list_low) & CAN_FILTER_MASK_16BIT
 579              		.loc 1 279 105 view .LVU226
 580 00ac 42EA0542 		orr	r2, r2, r5, lsl #16
 278:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 FDATA_MASK_HIGH((can_filter_parameter_init->filter_list_high) & CAN_FILTER_MASK_16B
 581              		.loc 1 278 68 view .LVU227
 582 00b0 1A60     		str	r2, [r3]
 282:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 FDATA_MASK_HIGH((can_filter_parameter_init->filter_mask_high) & CAN_FILTER_MASK_16B
 583              		.loc 1 282 9 is_stmt 1 view .LVU228
 283:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 FDATA_MASK_LOW((can_filter_parameter_init->filter_mask_low) & CAN_FILTER_MASK_16BIT
 584              		.loc 1 283 17 is_stmt 0 view .LVU229
 585 00b2 8588     		ldrh	r5, [r0, #4]
 284:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 586              		.loc 1 284 17 view .LVU230
 587 00b4 C288     		ldrh	r2, [r0, #6]
 588 00b6 C9E7     		b	.L58
 589              	.L53:
 293:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 590              		.loc 1 293 9 is_stmt 1 view .LVU231
 591 00b8 D3F80426 		ldr	r2, [r3, #1540]
 293:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 592              		.loc 1 293 25 is_stmt 0 view .LVU232
 593 00bc 0A43     		orrs	r2, r2, r1
 594 00be CEE7     		b	.L59
 595              	.L55:
 302:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 596              		.loc 1 302 9 is_stmt 1 view .LVU233
 597 00c0 D3F81426 		ldr	r2, [r3, #1556]
 302:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 598              		.loc 1 302 26 is_stmt 0 view .LVU234
 599 00c4 0A43     		orrs	r2, r2, r1
 600 00c6 C3F81426 		str	r2, [r3, #1556]
 601 00ca D1E7     		b	.L56
 602              	.L61:
 603              		.align	2
 604              	.L60:
 605 00cc 00600040 		.word	1073766400
 606              		.cfi_endproc
 607              	.LFE119:
 609              		.section	.text.can1_filter_start_bank,"ax",%progbits
 610              		.align	1
 611              		.global	can1_filter_start_bank
 612              		.syntax unified
 613              		.thumb
 614              		.thumb_func
 616              	can1_filter_start_bank:
 617              	.LVL19:
ARM GAS  /tmp/ccYq1EAb.s 			page 19


 618              	.LFB120:
 314:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 315:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*!
 316:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \brief      set CAN1 filter start bank number
 317:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  start_bank: CAN1 start bank number
 318:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 only one parameter can be selected which is shown as below:
 319:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        (1..27)
 320:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[out] none
 321:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \retval     none
 322:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
 323:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** void can1_filter_start_bank(uint8_t start_bank)
 324:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
 619              		.loc 1 324 1 is_stmt 1 view -0
 620              		.cfi_startproc
 621              		@ args = 0, pretend = 0, frame = 0
 622              		@ frame_needed = 0, uses_anonymous_args = 0
 623              		@ link register save eliminated.
 325:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* filter lock disable */
 326:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     CAN_FCTL(CAN0) |= CAN_FCTL_FLD;
 624              		.loc 1 326 5 view .LVU236
 625 0000 0D4B     		ldr	r3, .L63
 626 0002 D3F80026 		ldr	r2, [r3, #1536]
 627              		.loc 1 326 20 is_stmt 0 view .LVU237
 628 0006 42F00102 		orr	r2, r2, #1
 629 000a C3F80026 		str	r2, [r3, #1536]
 327:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* set CAN1 filter start number */
 328:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     CAN_FCTL(CAN0) &= ~(uint32_t)CAN_FCTL_HBC1F;
 630              		.loc 1 328 5 is_stmt 1 view .LVU238
 631 000e D3F80026 		ldr	r2, [r3, #1536]
 632              		.loc 1 328 20 is_stmt 0 view .LVU239
 633 0012 22F47C52 		bic	r2, r2, #16128
 634 0016 C3F80026 		str	r2, [r3, #1536]
 329:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     CAN_FCTL(CAN0) |= FCTL_HBC1F(start_bank);
 635              		.loc 1 329 5 is_stmt 1 view .LVU240
 636 001a D3F80026 		ldr	r2, [r3, #1536]
 637              		.loc 1 329 23 is_stmt 0 view .LVU241
 638 001e 0002     		lsls	r0, r0, #8
 639              	.LVL20:
 640              		.loc 1 329 23 view .LVU242
 641 0020 00F47C50 		and	r0, r0, #16128
 642              		.loc 1 329 20 view .LVU243
 643 0024 1043     		orrs	r0, r0, r2
 644 0026 C3F80006 		str	r0, [r3, #1536]
 330:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* filter lock enable */
 331:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     CAN_FCTL(CAN0) &= ~CAN_FCTL_FLD;
 645              		.loc 1 331 5 is_stmt 1 view .LVU244
 646 002a D3F80026 		ldr	r2, [r3, #1536]
 647              		.loc 1 331 20 is_stmt 0 view .LVU245
 648 002e 22F00102 		bic	r2, r2, #1
 649 0032 C3F80026 		str	r2, [r3, #1536]
 332:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 650              		.loc 1 332 1 view .LVU246
 651 0036 7047     		bx	lr
 652              	.L64:
 653              		.align	2
 654              	.L63:
 655 0038 00600040 		.word	1073766400
ARM GAS  /tmp/ccYq1EAb.s 			page 20


 656              		.cfi_endproc
 657              	.LFE120:
 659              		.section	.text.can_debug_freeze_enable,"ax",%progbits
 660              		.align	1
 661              		.global	can_debug_freeze_enable
 662              		.syntax unified
 663              		.thumb
 664              		.thumb_func
 666              	can_debug_freeze_enable:
 667              	.LVL21:
 668              	.LFB121:
 333:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 334:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*!
 335:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \brief      enable CAN debug freeze
 336:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  can_periph
 337:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CANx(x=0,1)
 338:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[out] none
 339:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \retval     none
 340:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
 341:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** void can_debug_freeze_enable(uint32_t can_periph)
 342:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
 669              		.loc 1 342 1 is_stmt 1 view -0
 670              		.cfi_startproc
 671              		@ args = 0, pretend = 0, frame = 0
 672              		@ frame_needed = 0, uses_anonymous_args = 0
 673              		@ link register save eliminated.
 343:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* set DFZ bit */
 344:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     CAN_CTL(can_periph) |= CAN_CTL_DFZ;
 674              		.loc 1 344 5 view .LVU248
 675 0000 0368     		ldr	r3, [r0]
 676              		.loc 1 344 25 is_stmt 0 view .LVU249
 677 0002 43F48033 		orr	r3, r3, #65536
 678 0006 0360     		str	r3, [r0]
 345:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 346:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     if(CAN0 == can_periph) {
 679              		.loc 1 346 5 is_stmt 1 view .LVU250
 680              		.loc 1 346 7 is_stmt 0 view .LVU251
 681 0008 044B     		ldr	r3, .L68
 682 000a 9842     		cmp	r0, r3
 347:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         dbg_periph_enable(DBG_CAN0_HOLD);
 683              		.loc 1 347 9 is_stmt 1 view .LVU252
 684 000c 0CBF     		ite	eq
 685 000e 40F21920 		movweq	r0, #537
 686              	.LVL22:
 348:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else {
 349:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         dbg_periph_enable(DBG_CAN1_HOLD);
 687              		.loc 1 349 9 view .LVU253
 688 0012 40F21A20 		movwne	r0, #538
 689 0016 FFF7FEBF 		b	dbg_periph_enable
 690              	.LVL23:
 691              	.L69:
 692 001a 00BF     		.align	2
 693              	.L68:
 694 001c 00640040 		.word	1073767424
 695              		.cfi_endproc
 696              	.LFE121:
 698              		.section	.text.can_debug_freeze_disable,"ax",%progbits
ARM GAS  /tmp/ccYq1EAb.s 			page 21


 699              		.align	1
 700              		.global	can_debug_freeze_disable
 701              		.syntax unified
 702              		.thumb
 703              		.thumb_func
 705              	can_debug_freeze_disable:
 706              	.LVL24:
 707              	.LFB122:
 350:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 351:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 352:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 353:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*!
 354:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \brief      disable CAN debug freeze
 355:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  can_periph
 356:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CANx(x=0,1)
 357:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[out] none
 358:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \retval     none
 359:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
 360:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** void can_debug_freeze_disable(uint32_t can_periph)
 361:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
 708              		.loc 1 361 1 view -0
 709              		.cfi_startproc
 710              		@ args = 0, pretend = 0, frame = 0
 711              		@ frame_needed = 0, uses_anonymous_args = 0
 712              		@ link register save eliminated.
 362:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* set DFZ bit */
 363:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     CAN_CTL(can_periph) &= ~CAN_CTL_DFZ;
 713              		.loc 1 363 5 view .LVU255
 714 0000 0368     		ldr	r3, [r0]
 715              		.loc 1 363 25 is_stmt 0 view .LVU256
 716 0002 23F48033 		bic	r3, r3, #65536
 717 0006 0360     		str	r3, [r0]
 364:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 365:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     if(CAN0 == can_periph) {
 718              		.loc 1 365 5 is_stmt 1 view .LVU257
 719              		.loc 1 365 7 is_stmt 0 view .LVU258
 720 0008 044B     		ldr	r3, .L73
 721 000a 9842     		cmp	r0, r3
 366:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         dbg_periph_disable(DBG_CAN0_HOLD);
 722              		.loc 1 366 9 is_stmt 1 view .LVU259
 723 000c 0CBF     		ite	eq
 724 000e 40F21920 		movweq	r0, #537
 725              	.LVL25:
 367:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else {
 368:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         dbg_periph_disable(DBG_CAN1_HOLD);
 726              		.loc 1 368 9 view .LVU260
 727 0012 40F21A20 		movwne	r0, #538
 728 0016 FFF7FEBF 		b	dbg_periph_disable
 729              	.LVL26:
 730              	.L74:
 731 001a 00BF     		.align	2
 732              	.L73:
 733 001c 00640040 		.word	1073767424
 734              		.cfi_endproc
 735              	.LFE122:
 737              		.section	.text.can_time_trigger_mode_enable,"ax",%progbits
 738              		.align	1
ARM GAS  /tmp/ccYq1EAb.s 			page 22


 739              		.global	can_time_trigger_mode_enable
 740              		.syntax unified
 741              		.thumb
 742              		.thumb_func
 744              	can_time_trigger_mode_enable:
 745              	.LVL27:
 746              	.LFB123:
 369:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 370:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 371:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 372:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*!
 373:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \brief      enable CAN time trigger mode
 374:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  can_periph
 375:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CANx(x=0,1)
 376:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[out] none
 377:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \retval     none
 378:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
 379:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** void can_time_trigger_mode_enable(uint32_t can_periph)
 380:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
 747              		.loc 1 380 1 view -0
 748              		.cfi_startproc
 749              		@ args = 0, pretend = 0, frame = 0
 750              		@ frame_needed = 0, uses_anonymous_args = 0
 751              		@ link register save eliminated.
 381:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     uint8_t mailbox_number;
 752              		.loc 1 381 5 view .LVU262
 382:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 383:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* enable the TTC mode */
 384:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     CAN_CTL(can_periph) |= CAN_CTL_TTC;
 753              		.loc 1 384 5 view .LVU263
 754 0000 0368     		ldr	r3, [r0]
 755              		.loc 1 384 25 is_stmt 0 view .LVU264
 756 0002 43F08003 		orr	r3, r3, #128
 757 0006 0360     		str	r3, [r0]
 385:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* enable time stamp */
 386:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     for(mailbox_number = 0U; mailbox_number < 3U; mailbox_number++) {
 758              		.loc 1 386 5 is_stmt 1 view .LVU265
 759              	.LVL28:
 760              		.loc 1 386 45 view .LVU266
 387:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_TMP(can_periph, mailbox_number) |= CAN_TMP_TSEN;
 761              		.loc 1 387 9 view .LVU267
 762 0008 D0F88431 		ldr	r3, [r0, #388]
 763              		.loc 1 387 45 is_stmt 0 view .LVU268
 764 000c 43F48073 		orr	r3, r3, #256
 765 0010 C0F88431 		str	r3, [r0, #388]
 386:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_TMP(can_periph, mailbox_number) |= CAN_TMP_TSEN;
 766              		.loc 1 386 65 is_stmt 1 view .LVU269
 767              	.LVL29:
 386:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_TMP(can_periph, mailbox_number) |= CAN_TMP_TSEN;
 768              		.loc 1 386 45 view .LVU270
 769              		.loc 1 387 9 view .LVU271
 770 0014 D0F89431 		ldr	r3, [r0, #404]
 771              		.loc 1 387 45 is_stmt 0 view .LVU272
 772 0018 43F48073 		orr	r3, r3, #256
 773 001c C0F89431 		str	r3, [r0, #404]
 386:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_TMP(can_periph, mailbox_number) |= CAN_TMP_TSEN;
 774              		.loc 1 386 65 is_stmt 1 view .LVU273
ARM GAS  /tmp/ccYq1EAb.s 			page 23


 775              	.LVL30:
 386:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_TMP(can_periph, mailbox_number) |= CAN_TMP_TSEN;
 776              		.loc 1 386 45 view .LVU274
 777              		.loc 1 387 9 view .LVU275
 778 0020 D0F8A431 		ldr	r3, [r0, #420]
 779              		.loc 1 387 45 is_stmt 0 view .LVU276
 780 0024 43F48073 		orr	r3, r3, #256
 781 0028 C0F8A431 		str	r3, [r0, #420]
 386:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_TMP(can_periph, mailbox_number) |= CAN_TMP_TSEN;
 782              		.loc 1 386 65 is_stmt 1 view .LVU277
 783              	.LVL31:
 386:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_TMP(can_periph, mailbox_number) |= CAN_TMP_TSEN;
 784              		.loc 1 386 45 view .LVU278
 388:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 389:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 785              		.loc 1 389 1 is_stmt 0 view .LVU279
 786 002c 7047     		bx	lr
 787              		.cfi_endproc
 788              	.LFE123:
 790              		.section	.text.can_time_trigger_mode_disable,"ax",%progbits
 791              		.align	1
 792              		.global	can_time_trigger_mode_disable
 793              		.syntax unified
 794              		.thumb
 795              		.thumb_func
 797              	can_time_trigger_mode_disable:
 798              	.LVL32:
 799              	.LFB124:
 390:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 391:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*!
 392:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \brief      disable CAN time trigger mode
 393:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  can_periph
 394:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CANx(x=0,1)
 395:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[out] none
 396:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \retval     none
 397:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
 398:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** void can_time_trigger_mode_disable(uint32_t can_periph)
 399:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
 800              		.loc 1 399 1 is_stmt 1 view -0
 801              		.cfi_startproc
 802              		@ args = 0, pretend = 0, frame = 0
 803              		@ frame_needed = 0, uses_anonymous_args = 0
 804              		@ link register save eliminated.
 400:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     uint8_t mailbox_number;
 805              		.loc 1 400 5 view .LVU281
 401:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 402:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* disable the TTC mode */
 403:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     CAN_CTL(can_periph) &= ~CAN_CTL_TTC;
 806              		.loc 1 403 5 view .LVU282
 807 0000 0368     		ldr	r3, [r0]
 808              		.loc 1 403 25 is_stmt 0 view .LVU283
 809 0002 23F08003 		bic	r3, r3, #128
 810 0006 0360     		str	r3, [r0]
 404:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* reset TSEN bits */
 405:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     for(mailbox_number = 0U; mailbox_number < 3U; mailbox_number++) {
 811              		.loc 1 405 5 is_stmt 1 view .LVU284
 812              	.LVL33:
ARM GAS  /tmp/ccYq1EAb.s 			page 24


 813              		.loc 1 405 45 view .LVU285
 406:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_TMP(can_periph, mailbox_number) &= ~CAN_TMP_TSEN;
 814              		.loc 1 406 9 view .LVU286
 815 0008 D0F88431 		ldr	r3, [r0, #388]
 816              		.loc 1 406 45 is_stmt 0 view .LVU287
 817 000c 23F48073 		bic	r3, r3, #256
 818 0010 C0F88431 		str	r3, [r0, #388]
 405:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_TMP(can_periph, mailbox_number) &= ~CAN_TMP_TSEN;
 819              		.loc 1 405 65 is_stmt 1 view .LVU288
 820              	.LVL34:
 405:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_TMP(can_periph, mailbox_number) &= ~CAN_TMP_TSEN;
 821              		.loc 1 405 45 view .LVU289
 822              		.loc 1 406 9 view .LVU290
 823 0014 D0F89431 		ldr	r3, [r0, #404]
 824              		.loc 1 406 45 is_stmt 0 view .LVU291
 825 0018 23F48073 		bic	r3, r3, #256
 826 001c C0F89431 		str	r3, [r0, #404]
 405:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_TMP(can_periph, mailbox_number) &= ~CAN_TMP_TSEN;
 827              		.loc 1 405 65 is_stmt 1 view .LVU292
 828              	.LVL35:
 405:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_TMP(can_periph, mailbox_number) &= ~CAN_TMP_TSEN;
 829              		.loc 1 405 45 view .LVU293
 830              		.loc 1 406 9 view .LVU294
 831 0020 D0F8A431 		ldr	r3, [r0, #420]
 832              		.loc 1 406 45 is_stmt 0 view .LVU295
 833 0024 23F48073 		bic	r3, r3, #256
 834 0028 C0F8A431 		str	r3, [r0, #420]
 405:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_TMP(can_periph, mailbox_number) &= ~CAN_TMP_TSEN;
 835              		.loc 1 405 65 is_stmt 1 view .LVU296
 836              	.LVL36:
 405:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_TMP(can_periph, mailbox_number) &= ~CAN_TMP_TSEN;
 837              		.loc 1 405 45 view .LVU297
 407:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 408:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 838              		.loc 1 408 1 is_stmt 0 view .LVU298
 839 002c 7047     		bx	lr
 840              		.cfi_endproc
 841              	.LFE124:
 843              		.section	.text.can_message_transmit,"ax",%progbits
 844              		.align	1
 845              		.global	can_message_transmit
 846              		.syntax unified
 847              		.thumb
 848              		.thumb_func
 850              	can_message_transmit:
 851              	.LVL37:
 852              	.LFB125:
 409:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 410:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*!
 411:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \brief      transmit CAN message
 412:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  can_periph
 413:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CANx(x=0,1)
 414:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  transmit_message: struct for CAN transmit message
 415:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        tx_sfid: 0x00000000 - 0x000007FF
 416:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        tx_efid: 0x00000000 - 0x1FFFFFFF
 417:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        tx_ff: CAN_FF_STANDARD, CAN_FF_EXTENDED
 418:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        tx_ft: CAN_FT_DATA, CAN_FT_REMOTE
ARM GAS  /tmp/ccYq1EAb.s 			page 25


 419:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        tx_dlen: 0 - 8
 420:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        tx_data[]: 0x00 - 0xFF
 421:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[out] none
 422:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \retval     mailbox_number
 423:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
 424:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** uint8_t can_message_transmit(uint32_t can_periph, can_trasnmit_message_struct *transmit_message)
 425:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
 853              		.loc 1 425 1 is_stmt 1 view -0
 854              		.cfi_startproc
 855              		@ args = 0, pretend = 0, frame = 0
 856              		@ frame_needed = 0, uses_anonymous_args = 0
 426:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     uint8_t mailbox_number = CAN_MAILBOX0;
 857              		.loc 1 426 5 view .LVU300
 427:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 428:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* select one empty mailbox */
 429:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     if(CAN_TSTAT_TME0 == (CAN_TSTAT(can_periph)&CAN_TSTAT_TME0)) {
 858              		.loc 1 429 5 view .LVU301
 859              		.loc 1 429 27 is_stmt 0 view .LVU302
 860 0000 8268     		ldr	r2, [r0, #8]
 425:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     uint8_t mailbox_number = CAN_MAILBOX0;
 861              		.loc 1 425 1 view .LVU303
 862 0002 70B5     		push	{r4, r5, r6, lr}
 863              	.LCFI5:
 864              		.cfi_def_cfa_offset 16
 865              		.cfi_offset 4, -16
 866              		.cfi_offset 5, -12
 867              		.cfi_offset 6, -8
 868              		.cfi_offset 14, -4
 869              		.loc 1 429 7 view .LVU304
 870 0004 5401     		lsls	r4, r2, #5
 425:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     uint8_t mailbox_number = CAN_MAILBOX0;
 871              		.loc 1 425 1 view .LVU305
 872 0006 0346     		mov	r3, r0
 873              		.loc 1 429 7 view .LVU306
 874 0008 34D4     		bmi	.L82
 430:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         mailbox_number = CAN_MAILBOX0;
 431:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else if(CAN_TSTAT_TME1 == (CAN_TSTAT(can_periph)&CAN_TSTAT_TME1)) {
 875              		.loc 1 431 12 is_stmt 1 view .LVU307
 876              		.loc 1 431 34 is_stmt 0 view .LVU308
 877 000a 8268     		ldr	r2, [r0, #8]
 878              		.loc 1 431 14 view .LVU309
 879 000c 1001     		lsls	r0, r2, #4
 880              	.LVL38:
 881              		.loc 1 431 14 view .LVU310
 882 000e 33D4     		bmi	.L83
 432:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         mailbox_number = CAN_MAILBOX1;
 433:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else if(CAN_TSTAT_TME2 == (CAN_TSTAT(can_periph)&CAN_TSTAT_TME2)) {
 883              		.loc 1 433 12 is_stmt 1 view .LVU311
 884              		.loc 1 433 34 is_stmt 0 view .LVU312
 885 0010 9A68     		ldr	r2, [r3, #8]
 886              		.loc 1 433 14 view .LVU313
 887 0012 D200     		lsls	r2, r2, #3
 888 0014 3CD5     		bpl	.L84
 434:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         mailbox_number = CAN_MAILBOX2;
 889              		.loc 1 434 24 view .LVU314
 890 0016 0220     		movs	r0, #2
 891              	.L78:
ARM GAS  /tmp/ccYq1EAb.s 			page 26


 892              	.LVL39:
 435:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else {
 436:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         mailbox_number = CAN_NOMAILBOX;
 437:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 438:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* return no mailbox empty */
 439:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     if(CAN_NOMAILBOX == mailbox_number) {
 440:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         return CAN_NOMAILBOX;
 441:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 442:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 443:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     CAN_TMI(can_periph, mailbox_number) &= CAN_TMI_TEN;
 893              		.loc 1 443 5 is_stmt 1 view .LVU315
 894 0018 03EB0013 		add	r3, r3, r0, lsl #4
 895              	.LVL40:
 896              		.loc 1 443 5 is_stmt 0 view .LVU316
 897 001c D3F88021 		ldr	r2, [r3, #384]
 898              		.loc 1 443 41 view .LVU317
 899 0020 02F00102 		and	r2, r2, #1
 900 0024 C3F88021 		str	r2, [r3, #384]
 444:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     if(CAN_FF_STANDARD == transmit_message->tx_ff) {
 901              		.loc 1 444 5 is_stmt 1 view .LVU318
 902              		.loc 1 444 43 is_stmt 0 view .LVU319
 903 0028 0A7A     		ldrb	r2, [r1, #8]	@ zero_extendqisi2
 904 002a 4C7A     		ldrb	r4, [r1, #9]	@ zero_extendqisi2
 905              		.loc 1 444 7 view .LVU320
 906 002c 32BB     		cbnz	r2, .L80
 445:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* set transmit mailbox standard identifier */
 446:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_TMI(can_periph, mailbox_number) |= (uint32_t)(TMI_SFID(transmit_message->tx_sfid) | \
 907              		.loc 1 446 9 is_stmt 1 view .LVU321
 908              		.loc 1 446 59 is_stmt 0 view .LVU322
 909 002e 0D68     		ldr	r5, [r1]
 910              		.loc 1 446 9 view .LVU323
 911 0030 D3F88021 		ldr	r2, [r3, #384]
 912              		.loc 1 446 48 view .LVU324
 913 0034 44EA4554 		orr	r4, r4, r5, lsl #21
 914              		.loc 1 446 45 view .LVU325
 915 0038 1443     		orrs	r4, r4, r2
 916 003a C3F88041 		str	r4, [r3, #384]
 917              	.L81:
 447:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                                                transmit_message->tx_ft);
 448:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else {
 449:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* set transmit mailbox extended identifier */
 450:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_TMI(can_periph, mailbox_number) |= (uint32_t)(TMI_EFID(transmit_message->tx_efid) | \
 451:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                                                transmit_message->tx_ff | \
 452:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                                                transmit_message->tx_ft);
 453:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 454:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* set the data length */
 455:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     CAN_TMP(can_periph, mailbox_number) &= ~CAN_TMP_DLENC;
 918              		.loc 1 455 5 is_stmt 1 view .LVU326
 919 003e D3F88421 		ldr	r2, [r3, #388]
 920              		.loc 1 455 41 is_stmt 0 view .LVU327
 921 0042 22F00F02 		bic	r2, r2, #15
 922 0046 C3F88421 		str	r2, [r3, #388]
 456:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     CAN_TMP(can_periph, mailbox_number) |= transmit_message->tx_dlen;
 923              		.loc 1 456 5 is_stmt 1 view .LVU328
 924 004a D3F88441 		ldr	r4, [r3, #388]
 925              		.loc 1 456 60 is_stmt 0 view .LVU329
 926 004e 8A7A     		ldrb	r2, [r1, #10]	@ zero_extendqisi2
ARM GAS  /tmp/ccYq1EAb.s 			page 27


 927              		.loc 1 456 41 view .LVU330
 928 0050 2243     		orrs	r2, r2, r4
 929 0052 C3F88421 		str	r2, [r3, #388]
 457:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* set the data */
 458:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     CAN_TMDATA0(can_periph, mailbox_number) = TMDATA0_DB3(transmit_message->tx_data[3]) | \
 930              		.loc 1 458 5 is_stmt 1 view .LVU331
 459:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             TMDATA0_DB2(transmit_message->tx_data[2]) | \
 460:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             TMDATA0_DB1(transmit_message->tx_data[1]) | \
 931              		.loc 1 460 55 is_stmt 0 view .LVU332
 932 0056 D1F80B20 		ldr	r2, [r1, #11]	@ unaligned
 458:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             TMDATA0_DB2(transmit_message->tx_data[2]) | \
 933              		.loc 1 458 45 view .LVU333
 934 005a C3F88821 		str	r2, [r3, #392]
 461:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             TMDATA0_DB0(transmit_message->tx_data[0]);
 462:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     CAN_TMDATA1(can_periph, mailbox_number) = TMDATA1_DB7(transmit_message->tx_data[7]) | \
 935              		.loc 1 462 5 is_stmt 1 view .LVU334
 463:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             TMDATA1_DB6(transmit_message->tx_data[6]) | \
 464:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             TMDATA1_DB5(transmit_message->tx_data[5]) | \
 936              		.loc 1 464 55 is_stmt 0 view .LVU335
 937 005e D1F80F20 		ldr	r2, [r1, #15]	@ unaligned
 462:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             TMDATA1_DB6(transmit_message->tx_data[6]) | \
 938              		.loc 1 462 45 view .LVU336
 939 0062 C3F88C21 		str	r2, [r3, #396]
 465:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             TMDATA1_DB4(transmit_message->tx_data[4]);
 466:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* enable transmission */
 467:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     CAN_TMI(can_periph, mailbox_number) |= CAN_TMI_TEN;
 940              		.loc 1 467 5 is_stmt 1 view .LVU337
 941 0066 D3F88021 		ldr	r2, [r3, #384]
 942              		.loc 1 467 41 is_stmt 0 view .LVU338
 943 006a 42F00102 		orr	r2, r2, #1
 944 006e C3F88021 		str	r2, [r3, #384]
 468:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 469:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     return mailbox_number;
 945              		.loc 1 469 5 is_stmt 1 view .LVU339
 946              	.L79:
 470:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 947              		.loc 1 470 1 is_stmt 0 view .LVU340
 948 0072 70BD     		pop	{r4, r5, r6, pc}
 949              	.LVL41:
 950              	.L82:
 430:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else if(CAN_TSTAT_TME1 == (CAN_TSTAT(can_periph)&CAN_TSTAT_TME1)) {
 951              		.loc 1 430 24 view .LVU341
 952 0074 0020     		movs	r0, #0
 953              	.LVL42:
 430:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else if(CAN_TSTAT_TME1 == (CAN_TSTAT(can_periph)&CAN_TSTAT_TME1)) {
 954              		.loc 1 430 24 view .LVU342
 955 0076 CFE7     		b	.L78
 956              	.L83:
 432:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else if(CAN_TSTAT_TME2 == (CAN_TSTAT(can_periph)&CAN_TSTAT_TME2)) {
 957              		.loc 1 432 24 view .LVU343
 958 0078 0120     		movs	r0, #1
 959 007a CDE7     		b	.L78
 960              	.LVL43:
 961              	.L80:
 450:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                                                transmit_message->tx_ff | \
 962              		.loc 1 450 9 is_stmt 1 view .LVU344
 450:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                                                transmit_message->tx_ff | \
ARM GAS  /tmp/ccYq1EAb.s 			page 28


 963              		.loc 1 450 59 is_stmt 0 view .LVU345
 964 007c 4E68     		ldr	r6, [r1, #4]
 450:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                                                transmit_message->tx_ff | \
 965              		.loc 1 450 9 view .LVU346
 966 007e D3F88051 		ldr	r5, [r3, #384]
 450:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                                                transmit_message->tx_ff | \
 967              		.loc 1 450 95 view .LVU347
 968 0082 42EAC602 		orr	r2, r2, r6, lsl #3
 450:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                                                transmit_message->tx_ff | \
 969              		.loc 1 450 48 view .LVU348
 970 0086 2243     		orrs	r2, r2, r4
 450:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                                                transmit_message->tx_ff | \
 971              		.loc 1 450 45 view .LVU349
 972 0088 2A43     		orrs	r2, r2, r5
 973 008a C3F88021 		str	r2, [r3, #384]
 974 008e D6E7     		b	.L81
 975              	.LVL44:
 976              	.L84:
 440:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 977              		.loc 1 440 16 view .LVU350
 978 0090 0320     		movs	r0, #3
 979 0092 EEE7     		b	.L79
 980              		.cfi_endproc
 981              	.LFE125:
 983              		.section	.text.can_transmit_states,"ax",%progbits
 984              		.align	1
 985              		.global	can_transmit_states
 986              		.syntax unified
 987              		.thumb
 988              		.thumb_func
 990              	can_transmit_states:
 991              	.LVL45:
 992              	.LFB126:
 471:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 472:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*!
 473:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \brief      get CAN transmit state
 474:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  can_periph
 475:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CANx(x=0,1)
 476:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  mailbox_number
 477:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 only one parameter can be selected which is shown as below:
 478:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_MAILBOX(x=0,1,2)
 479:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[out] none
 480:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \retval     can_transmit_state_enum
 481:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
 482:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** can_transmit_state_enum can_transmit_states(uint32_t can_periph, uint8_t mailbox_number)
 483:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
 993              		.loc 1 483 1 is_stmt 1 view -0
 994              		.cfi_startproc
 995              		@ args = 0, pretend = 0, frame = 0
 996              		@ frame_needed = 0, uses_anonymous_args = 0
 997              		@ link register save eliminated.
 484:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     can_transmit_state_enum state = CAN_TRANSMIT_FAILED;
 998              		.loc 1 484 5 view .LVU352
 485:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     uint32_t val = 0U;
 999              		.loc 1 485 5 view .LVU353
 486:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 487:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* check selected mailbox state */
ARM GAS  /tmp/ccYq1EAb.s 			page 29


 488:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     switch(mailbox_number) {
 1000              		.loc 1 488 5 view .LVU354
 1001 0000 0129     		cmp	r1, #1
 1002 0002 0AD0     		beq	.L86
 1003 0004 0229     		cmp	r1, #2
 1004 0006 13D0     		beq	.L87
 1005 0008 C9B9     		cbnz	r1, .L91
 489:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* mailbox0 */
 490:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     case CAN_MAILBOX0:
 491:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         val = CAN_TSTAT(can_periph) & (CAN_TSTAT_MTF0 | CAN_TSTAT_MTFNERR0 | CAN_TSTAT_TME0);
 1006              		.loc 1 491 9 view .LVU355
 1007              		.loc 1 491 15 is_stmt 0 view .LVU356
 1008 000a 8268     		ldr	r2, [r0, #8]
 1009              		.loc 1 491 13 view .LVU357
 1010 000c 0D4B     		ldr	r3, .L95
 1011 000e 02EA0300 		and	r0, r2, r3
 1012              	.LVL46:
 492:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         break;
 1013              		.loc 1 492 9 is_stmt 1 view .LVU358
 493:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* mailbox1 */
 494:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     case CAN_MAILBOX1:
 495:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         val = CAN_TSTAT(can_periph) & (CAN_TSTAT_MTF1 | CAN_TSTAT_MTFNERR1 | CAN_TSTAT_TME1);
 496:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         break;
 497:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* mailbox2 */
 498:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     case CAN_MAILBOX2:
 499:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         val = CAN_TSTAT(can_periph) & (CAN_TSTAT_MTF2 | CAN_TSTAT_MTFNERR2 | CAN_TSTAT_TME2);
 500:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         break;
 501:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     default:
 502:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         val = CAN_TRANSMIT_FAILED;
 503:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         break;
 504:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 505:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 506:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     switch(val) {
 1014              		.loc 1 506 5 view .LVU359
 1015 0012 9343     		bics	r3, r3, r2
 1016 0014 07D1     		bne	.L89
 1017 0016 0120     		movs	r0, #1
 1018              	.LVL47:
 507:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* transmit pending */
 508:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     case(CAN_STATE_PENDING):
 509:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         state = CAN_TRANSMIT_PENDING;
 510:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         break;
 511:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* mailbox0 transmit succeeded */
 512:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     case(CAN_TSTAT_MTF0 | CAN_TSTAT_MTFNERR0 | CAN_TSTAT_TME0):
 513:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         state = CAN_TRANSMIT_OK;
 514:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         break;
 515:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* mailbox1 transmit succeeded */
 516:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     case(CAN_TSTAT_MTF1 | CAN_TSTAT_MTFNERR1 | CAN_TSTAT_TME1):
 517:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         state = CAN_TRANSMIT_OK;
 518:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         break;
 519:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* mailbox2 transmit succeeded */
 520:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     case(CAN_TSTAT_MTF2 | CAN_TSTAT_MTFNERR2 | CAN_TSTAT_TME2):
 521:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         state = CAN_TRANSMIT_OK;
 522:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         break;
 523:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* transmit failed */
 524:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     default:
 525:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         state = CAN_TRANSMIT_FAILED;
ARM GAS  /tmp/ccYq1EAb.s 			page 30


 526:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         break;
 527:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 528:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     return state;
 1019              		.loc 1 528 5 view .LVU360
 529:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 1020              		.loc 1 529 1 is_stmt 0 view .LVU361
 1021 0018 7047     		bx	lr
 1022              	.LVL48:
 1023              	.L86:
 495:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         break;
 1024              		.loc 1 495 9 is_stmt 1 view .LVU362
 495:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         break;
 1025              		.loc 1 495 15 is_stmt 0 view .LVU363
 1026 001a 8068     		ldr	r0, [r0, #8]
 1027              	.LVL49:
 495:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         break;
 1028              		.loc 1 495 13 view .LVU364
 1029 001c 0A4B     		ldr	r3, .L95+4
 1030              	.L94:
 506:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* transmit pending */
 1031              		.loc 1 506 5 view .LVU365
 1032 001e 094A     		ldr	r2, .L95
 499:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         break;
 1033              		.loc 1 499 13 view .LVU366
 1034 0020 1840     		ands	r0, r0, r3
 1035              	.LVL50:
 500:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     default:
 1036              		.loc 1 500 9 is_stmt 1 view .LVU367
 506:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* transmit pending */
 1037              		.loc 1 506 5 view .LVU368
 1038 0022 9042     		cmp	r0, r2
 1039 0024 07D8     		bhi	.L90
 1040              	.L89:
 506:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* transmit pending */
 1041              		.loc 1 506 5 is_stmt 0 view .LVU369
 1042 0026 B0FA80F0 		clz	r0, r0
 1043              	.LVL51:
 506:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* transmit pending */
 1044              		.loc 1 506 5 view .LVU370
 1045 002a 4009     		lsrs	r0, r0, #5
 1046 002c 4000     		lsls	r0, r0, #1
 1047 002e 7047     		bx	lr
 1048              	.LVL52:
 1049              	.L87:
 499:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         break;
 1050              		.loc 1 499 9 is_stmt 1 view .LVU371
 499:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         break;
 1051              		.loc 1 499 15 is_stmt 0 view .LVU372
 1052 0030 8068     		ldr	r0, [r0, #8]
 1053              	.LVL53:
 499:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         break;
 1054              		.loc 1 499 13 view .LVU373
 1055 0032 064B     		ldr	r3, .L95+8
 1056 0034 F3E7     		b	.L94
 1057              	.LVL54:
 1058              	.L90:
 506:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* transmit pending */
ARM GAS  /tmp/ccYq1EAb.s 			page 31


 1059              		.loc 1 506 5 view .LVU374
 1060 0036 C31A     		subs	r3, r0, r3
 1061 0038 5842     		rsbs	r0, r3, #0
 1062              	.LVL55:
 506:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* transmit pending */
 1063              		.loc 1 506 5 view .LVU375
 1064 003a 5841     		adcs	r0, r0, r3
 1065 003c 7047     		bx	lr
 1066              	.LVL56:
 1067              	.L91:
 509:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         break;
 1068              		.loc 1 509 15 view .LVU376
 1069 003e 0220     		movs	r0, #2
 1070              	.LVL57:
 509:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         break;
 1071              		.loc 1 509 15 view .LVU377
 1072 0040 7047     		bx	lr
 1073              	.L96:
 1074 0042 00BF     		.align	2
 1075              	.L95:
 1076 0044 03000004 		.word	67108867
 1077 0048 00030008 		.word	134218496
 1078 004c 00000310 		.word	268632064
 1079              		.cfi_endproc
 1080              	.LFE126:
 1082              		.section	.text.can_transmission_stop,"ax",%progbits
 1083              		.align	1
 1084              		.global	can_transmission_stop
 1085              		.syntax unified
 1086              		.thumb
 1087              		.thumb_func
 1089              	can_transmission_stop:
 1090              	.LVL58:
 1091              	.LFB127:
 530:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 531:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*!
 532:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \brief      stop CAN transmission
 533:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  can_periph
 534:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CANx(x=0,1)
 535:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  mailbox_number
 536:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 only one parameter can be selected which is shown as below:
 537:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_MAILBOXx(x=0,1,2)
 538:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[out] none
 539:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \retval     none
 540:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
 541:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** void can_transmission_stop(uint32_t can_periph, uint8_t mailbox_number)
 542:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
 1092              		.loc 1 542 1 is_stmt 1 view -0
 1093              		.cfi_startproc
 1094              		@ args = 0, pretend = 0, frame = 0
 1095              		@ frame_needed = 0, uses_anonymous_args = 0
 1096              		@ link register save eliminated.
 543:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     if(CAN_MAILBOX0 == mailbox_number) {
 1097              		.loc 1 543 5 view .LVU379
 1098              		.loc 1 543 7 is_stmt 0 view .LVU380
 1099 0000 49B9     		cbnz	r1, .L98
 544:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_TSTAT(can_periph) |= CAN_TSTAT_MST0;
ARM GAS  /tmp/ccYq1EAb.s 			page 32


 1100              		.loc 1 544 9 is_stmt 1 view .LVU381
 1101 0002 8368     		ldr	r3, [r0, #8]
 1102              		.loc 1 544 31 is_stmt 0 view .LVU382
 1103 0004 43F08003 		orr	r3, r3, #128
 1104              		.loc 1 544 9 view .LVU383
 1105 0008 00F10802 		add	r2, r0, #8
 1106              		.loc 1 544 31 view .LVU384
 1107 000c 8360     		str	r3, [r0, #8]
 545:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         while(CAN_TSTAT_MST0 == (CAN_TSTAT(can_periph) & CAN_TSTAT_MST0)) {
 1108              		.loc 1 545 9 is_stmt 1 view .LVU385
 1109              	.LVL59:
 1110              	.L99:
 546:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         }
 1111              		.loc 1 546 9 discriminator 1 view .LVU386
 545:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         while(CAN_TSTAT_MST0 == (CAN_TSTAT(can_periph) & CAN_TSTAT_MST0)) {
 1112              		.loc 1 545 30 discriminator 1 view .LVU387
 545:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         while(CAN_TSTAT_MST0 == (CAN_TSTAT(can_periph) & CAN_TSTAT_MST0)) {
 1113              		.loc 1 545 34 is_stmt 0 discriminator 1 view .LVU388
 1114 000e 1368     		ldr	r3, [r2]
 545:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         while(CAN_TSTAT_MST0 == (CAN_TSTAT(can_periph) & CAN_TSTAT_MST0)) {
 1115              		.loc 1 545 30 discriminator 1 view .LVU389
 1116 0010 1806     		lsls	r0, r3, #24
 1117 0012 FCD4     		bmi	.L99
 1118 0014 7047     		bx	lr
 1119              	.LVL60:
 1120              	.L98:
 547:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else if(CAN_MAILBOX1 == mailbox_number) {
 1121              		.loc 1 547 12 is_stmt 1 view .LVU390
 1122              		.loc 1 547 14 is_stmt 0 view .LVU391
 1123 0016 0129     		cmp	r1, #1
 1124 0018 09D1     		bne	.L101
 548:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_TSTAT(can_periph) |= CAN_TSTAT_MST1;
 1125              		.loc 1 548 9 is_stmt 1 view .LVU392
 1126 001a 8368     		ldr	r3, [r0, #8]
 1127              		.loc 1 548 31 is_stmt 0 view .LVU393
 1128 001c 43F40043 		orr	r3, r3, #32768
 1129              		.loc 1 548 9 view .LVU394
 1130 0020 00F10802 		add	r2, r0, #8
 1131              		.loc 1 548 31 view .LVU395
 1132 0024 8360     		str	r3, [r0, #8]
 549:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         while(CAN_TSTAT_MST1 == (CAN_TSTAT(can_periph) & CAN_TSTAT_MST1)) {
 1133              		.loc 1 549 9 is_stmt 1 view .LVU396
 1134              	.LVL61:
 1135              	.L102:
 550:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         }
 1136              		.loc 1 550 9 discriminator 1 view .LVU397
 549:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         while(CAN_TSTAT_MST1 == (CAN_TSTAT(can_periph) & CAN_TSTAT_MST1)) {
 1137              		.loc 1 549 30 discriminator 1 view .LVU398
 549:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         while(CAN_TSTAT_MST1 == (CAN_TSTAT(can_periph) & CAN_TSTAT_MST1)) {
 1138              		.loc 1 549 34 is_stmt 0 discriminator 1 view .LVU399
 1139 0026 1368     		ldr	r3, [r2]
 549:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         while(CAN_TSTAT_MST1 == (CAN_TSTAT(can_periph) & CAN_TSTAT_MST1)) {
 1140              		.loc 1 549 30 discriminator 1 view .LVU400
 1141 0028 1904     		lsls	r1, r3, #16
 1142 002a FCD4     		bmi	.L102
 1143 002c 7047     		bx	lr
 1144              	.LVL62:
ARM GAS  /tmp/ccYq1EAb.s 			page 33


 1145              	.L101:
 551:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else if(CAN_MAILBOX2 == mailbox_number) {
 1146              		.loc 1 551 12 is_stmt 1 view .LVU401
 1147              		.loc 1 551 14 is_stmt 0 view .LVU402
 1148 002e 0229     		cmp	r1, #2
 1149 0030 08D1     		bne	.L97
 552:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_TSTAT(can_periph) |= CAN_TSTAT_MST2;
 1150              		.loc 1 552 9 is_stmt 1 view .LVU403
 1151 0032 8368     		ldr	r3, [r0, #8]
 1152              		.loc 1 552 31 is_stmt 0 view .LVU404
 1153 0034 43F40003 		orr	r3, r3, #8388608
 1154              		.loc 1 552 9 view .LVU405
 1155 0038 00F10802 		add	r2, r0, #8
 1156              		.loc 1 552 31 view .LVU406
 1157 003c 8360     		str	r3, [r0, #8]
 553:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         while(CAN_TSTAT_MST2 == (CAN_TSTAT(can_periph) & CAN_TSTAT_MST2)) {
 1158              		.loc 1 553 9 is_stmt 1 view .LVU407
 1159              	.L103:
 554:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         }
 1160              		.loc 1 554 9 discriminator 1 view .LVU408
 553:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         while(CAN_TSTAT_MST2 == (CAN_TSTAT(can_periph) & CAN_TSTAT_MST2)) {
 1161              		.loc 1 553 30 discriminator 1 view .LVU409
 553:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         while(CAN_TSTAT_MST2 == (CAN_TSTAT(can_periph) & CAN_TSTAT_MST2)) {
 1162              		.loc 1 553 34 is_stmt 0 discriminator 1 view .LVU410
 1163 003e 1368     		ldr	r3, [r2]
 553:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         while(CAN_TSTAT_MST2 == (CAN_TSTAT(can_periph) & CAN_TSTAT_MST2)) {
 1164              		.loc 1 553 30 discriminator 1 view .LVU411
 1165 0040 1B02     		lsls	r3, r3, #8
 1166 0042 FCD4     		bmi	.L103
 1167              	.L97:
 555:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else {
 556:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* illegal parameters */
 557:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 558:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 1168              		.loc 1 558 1 view .LVU412
 1169 0044 7047     		bx	lr
 1170              		.cfi_endproc
 1171              	.LFE127:
 1173              		.section	.text.can_message_receive,"ax",%progbits
 1174              		.align	1
 1175              		.global	can_message_receive
 1176              		.syntax unified
 1177              		.thumb
 1178              		.thumb_func
 1180              	can_message_receive:
 1181              	.LVL63:
 1182              	.LFB128:
 559:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 560:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*!
 561:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \brief      CAN receive message
 562:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  can_periph
 563:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CANx(x=0,1)
 564:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  fifo_number
 565:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FIFOx(x=0,1)
 566:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[out] receive_message: struct for CAN receive message
 567:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        rx_sfid: 0x00000000 - 0x000007FF
 568:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        rx_efid: 0x00000000 - 0x1FFFFFFF
ARM GAS  /tmp/ccYq1EAb.s 			page 34


 569:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        rx_ff: CAN_FF_STANDARD, CAN_FF_EXTENDED
 570:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        rx_ft: CAN_FT_DATA, CAN_FT_REMOTE
 571:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        rx_dlen: 0 - 8
 572:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        rx_data[]: 0x00 - 0xFF
 573:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        rx_fi: 0 - 27
 574:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \retval     none
 575:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
 576:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** void can_message_receive(uint32_t can_periph, uint8_t fifo_number, can_receive_message_struct *rece
 577:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
 1183              		.loc 1 577 1 is_stmt 1 view -0
 1184              		.cfi_startproc
 1185              		@ args = 0, pretend = 0, frame = 0
 1186              		@ frame_needed = 0, uses_anonymous_args = 0
 578:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* get the frame format */
 579:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     receive_message->rx_ff = (uint8_t)(CAN_RFIFOMI_FF & CAN_RFIFOMI(can_periph, fifo_number));
 1187              		.loc 1 579 5 view .LVU414
 1188              		.loc 1 579 57 is_stmt 0 view .LVU415
 1189 0000 00EB0113 		add	r3, r0, r1, lsl #4
 577:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* get the frame format */
 1190              		.loc 1 577 1 view .LVU416
 1191 0004 10B5     		push	{r4, lr}
 1192              	.LCFI6:
 1193              		.cfi_def_cfa_offset 8
 1194              		.cfi_offset 4, -8
 1195              		.cfi_offset 14, -4
 1196              		.loc 1 579 57 view .LVU417
 1197 0006 D3F8B041 		ldr	r4, [r3, #432]
 1198              		.loc 1 579 30 view .LVU418
 1199 000a 04F00404 		and	r4, r4, #4
 1200              		.loc 1 579 28 view .LVU419
 1201 000e 1472     		strb	r4, [r2, #8]
 580:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     if(CAN_FF_STANDARD == receive_message->rx_ff) {
 1202              		.loc 1 580 5 is_stmt 1 view .LVU420
 1203              		.loc 1 580 7 is_stmt 0 view .LVU421
 1204 0010 ACBB     		cbnz	r4, .L108
 581:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* get standard identifier */
 582:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         receive_message->rx_sfid = (uint32_t)(GET_RFIFOMI_SFID(CAN_RFIFOMI(can_periph, fifo_number)
 1205              		.loc 1 582 9 is_stmt 1 view .LVU422
 1206              		.loc 1 582 47 is_stmt 0 view .LVU423
 1207 0012 D3F8B041 		ldr	r4, [r3, #432]
 1208              		.loc 1 582 36 view .LVU424
 1209 0016 640D     		lsrs	r4, r4, #21
 1210              		.loc 1 582 34 view .LVU425
 1211 0018 1460     		str	r4, [r2]
 1212              	.L109:
 583:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else {
 584:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* get extended identifier */
 585:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         receive_message->rx_efid = (uint32_t)(GET_RFIFOMI_EFID(CAN_RFIFOMI(can_periph, fifo_number)
 586:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 587:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 588:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* get frame type */
 589:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     receive_message->rx_ft = (uint8_t)(CAN_RFIFOMI_FT & CAN_RFIFOMI(can_periph, fifo_number));
 1213              		.loc 1 589 5 is_stmt 1 view .LVU426
 1214              		.loc 1 589 57 is_stmt 0 view .LVU427
 1215 001a D3F8B041 		ldr	r4, [r3, #432]
 1216              		.loc 1 589 30 view .LVU428
 1217 001e 04F00204 		and	r4, r4, #2
ARM GAS  /tmp/ccYq1EAb.s 			page 35


 1218              		.loc 1 589 28 view .LVU429
 1219 0022 5472     		strb	r4, [r2, #9]
 590:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* filtering index */
 591:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     receive_message->rx_fi = (uint8_t)(GET_RFIFOMP_FI(CAN_RFIFOMP(can_periph, fifo_number)));
 1220              		.loc 1 591 5 is_stmt 1 view .LVU430
 1221              		.loc 1 591 40 is_stmt 0 view .LVU431
 1222 0024 D3F8B441 		ldr	r4, [r3, #436]
 1223 0028 240A     		lsrs	r4, r4, #8
 1224              		.loc 1 591 30 view .LVU432
 1225 002a D474     		strb	r4, [r2, #19]
 592:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* get receive data length */
 593:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     receive_message->rx_dlen = (uint8_t)(GET_RFIFOMP_DLENC(CAN_RFIFOMP(can_periph, fifo_number)));
 1226              		.loc 1 593 5 is_stmt 1 view .LVU433
 1227              		.loc 1 593 42 is_stmt 0 view .LVU434
 1228 002c D3F8B441 		ldr	r4, [r3, #436]
 1229              		.loc 1 593 32 view .LVU435
 1230 0030 04F00F04 		and	r4, r4, #15
 1231              		.loc 1 593 30 view .LVU436
 1232 0034 9472     		strb	r4, [r2, #10]
 594:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 595:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* receive data */
 596:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     receive_message -> rx_data[0] = (uint8_t)(GET_RFIFOMDATA0_DB0(CAN_RFIFOMDATA0(can_periph, fifo_
 1233              		.loc 1 596 5 is_stmt 1 view .LVU437
 1234              		.loc 1 596 47 is_stmt 0 view .LVU438
 1235 0036 D3F8B841 		ldr	r4, [r3, #440]
 1236              		.loc 1 596 37 view .LVU439
 1237 003a D472     		strb	r4, [r2, #11]
 597:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     receive_message -> rx_data[1] = (uint8_t)(GET_RFIFOMDATA0_DB1(CAN_RFIFOMDATA0(can_periph, fifo_
 1238              		.loc 1 597 5 is_stmt 1 view .LVU440
 1239              		.loc 1 597 47 is_stmt 0 view .LVU441
 1240 003c D3F8B841 		ldr	r4, [r3, #440]
 1241 0040 240A     		lsrs	r4, r4, #8
 1242              		.loc 1 597 37 view .LVU442
 1243 0042 1473     		strb	r4, [r2, #12]
 598:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     receive_message -> rx_data[2] = (uint8_t)(GET_RFIFOMDATA0_DB2(CAN_RFIFOMDATA0(can_periph, fifo_
 1244              		.loc 1 598 5 is_stmt 1 view .LVU443
 1245              		.loc 1 598 47 is_stmt 0 view .LVU444
 1246 0044 D3F8B841 		ldr	r4, [r3, #440]
 1247 0048 240C     		lsrs	r4, r4, #16
 1248              		.loc 1 598 37 view .LVU445
 1249 004a 5473     		strb	r4, [r2, #13]
 599:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     receive_message -> rx_data[3] = (uint8_t)(GET_RFIFOMDATA0_DB3(CAN_RFIFOMDATA0(can_periph, fifo_
 1250              		.loc 1 599 5 is_stmt 1 view .LVU446
 1251              		.loc 1 599 47 is_stmt 0 view .LVU447
 1252 004c D3F8B841 		ldr	r4, [r3, #440]
 1253 0050 240E     		lsrs	r4, r4, #24
 1254              		.loc 1 599 37 view .LVU448
 1255 0052 9473     		strb	r4, [r2, #14]
 600:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     receive_message -> rx_data[4] = (uint8_t)(GET_RFIFOMDATA1_DB4(CAN_RFIFOMDATA1(can_periph, fifo_
 1256              		.loc 1 600 5 is_stmt 1 view .LVU449
 1257              		.loc 1 600 47 is_stmt 0 view .LVU450
 1258 0054 D3F8BC41 		ldr	r4, [r3, #444]
 1259              		.loc 1 600 37 view .LVU451
 1260 0058 D473     		strb	r4, [r2, #15]
 601:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     receive_message -> rx_data[5] = (uint8_t)(GET_RFIFOMDATA1_DB5(CAN_RFIFOMDATA1(can_periph, fifo_
 1261              		.loc 1 601 5 is_stmt 1 view .LVU452
 1262              		.loc 1 601 47 is_stmt 0 view .LVU453
ARM GAS  /tmp/ccYq1EAb.s 			page 36


 1263 005a D3F8BC41 		ldr	r4, [r3, #444]
 1264 005e 240A     		lsrs	r4, r4, #8
 1265              		.loc 1 601 37 view .LVU454
 1266 0060 1474     		strb	r4, [r2, #16]
 602:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     receive_message -> rx_data[6] = (uint8_t)(GET_RFIFOMDATA1_DB6(CAN_RFIFOMDATA1(can_periph, fifo_
 1267              		.loc 1 602 5 is_stmt 1 view .LVU455
 1268              		.loc 1 602 47 is_stmt 0 view .LVU456
 1269 0062 D3F8BC41 		ldr	r4, [r3, #444]
 1270 0066 240C     		lsrs	r4, r4, #16
 1271              		.loc 1 602 37 view .LVU457
 1272 0068 5474     		strb	r4, [r2, #17]
 603:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     receive_message -> rx_data[7] = (uint8_t)(GET_RFIFOMDATA1_DB7(CAN_RFIFOMDATA1(can_periph, fifo_
 1273              		.loc 1 603 5 is_stmt 1 view .LVU458
 1274              		.loc 1 603 47 is_stmt 0 view .LVU459
 1275 006a D3F8BC31 		ldr	r3, [r3, #444]
 1276 006e 1B0E     		lsrs	r3, r3, #24
 1277              		.loc 1 603 37 view .LVU460
 1278 0070 9374     		strb	r3, [r2, #18]
 604:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 605:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* release FIFO */
 606:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     if(CAN_FIFO0 == fifo_number) {
 1279              		.loc 1 606 5 is_stmt 1 view .LVU461
 1280              		.loc 1 606 7 is_stmt 0 view .LVU462
 1281 0072 49B9     		cbnz	r1, .L110
 607:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_RFIFO0(can_periph) |= CAN_RFIFO0_RFD0;
 1282              		.loc 1 607 9 is_stmt 1 view .LVU463
 1283 0074 C368     		ldr	r3, [r0, #12]
 1284              		.loc 1 607 32 is_stmt 0 view .LVU464
 1285 0076 43F02003 		orr	r3, r3, #32
 1286 007a C360     		str	r3, [r0, #12]
 1287              	.L107:
 608:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else {
 609:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_RFIFO1(can_periph) |= CAN_RFIFO1_RFD1;
 610:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 611:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 1288              		.loc 1 611 1 view .LVU465
 1289 007c 10BD     		pop	{r4, pc}
 1290              	.L108:
 585:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 1291              		.loc 1 585 9 is_stmt 1 view .LVU466
 585:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 1292              		.loc 1 585 47 is_stmt 0 view .LVU467
 1293 007e D3F8B041 		ldr	r4, [r3, #432]
 585:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 1294              		.loc 1 585 36 view .LVU468
 1295 0082 E408     		lsrs	r4, r4, #3
 585:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 1296              		.loc 1 585 34 view .LVU469
 1297 0084 5460     		str	r4, [r2, #4]
 1298 0086 C8E7     		b	.L109
 1299              	.L110:
 609:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 1300              		.loc 1 609 9 is_stmt 1 view .LVU470
 1301 0088 0369     		ldr	r3, [r0, #16]
 609:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 1302              		.loc 1 609 32 is_stmt 0 view .LVU471
 1303 008a 43F02003 		orr	r3, r3, #32
ARM GAS  /tmp/ccYq1EAb.s 			page 37


 1304 008e 0361     		str	r3, [r0, #16]
 1305              		.loc 1 611 1 view .LVU472
 1306 0090 F4E7     		b	.L107
 1307              		.cfi_endproc
 1308              	.LFE128:
 1310              		.section	.text.can_fifo_release,"ax",%progbits
 1311              		.align	1
 1312              		.global	can_fifo_release
 1313              		.syntax unified
 1314              		.thumb
 1315              		.thumb_func
 1317              	can_fifo_release:
 1318              	.LVL64:
 1319              	.LFB129:
 612:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 613:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*!
 614:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \brief      release FIFO
 615:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  can_periph
 616:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CANx(x=0,1)
 617:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  fifo_number
 618:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 only one parameter can be selected which is shown as below:
 619:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FIFOx(x=0,1)
 620:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[out] none
 621:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \retval     none
 622:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
 623:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** void can_fifo_release(uint32_t can_periph, uint8_t fifo_number)
 624:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
 1320              		.loc 1 624 1 is_stmt 1 view -0
 1321              		.cfi_startproc
 1322              		@ args = 0, pretend = 0, frame = 0
 1323              		@ frame_needed = 0, uses_anonymous_args = 0
 1324              		@ link register save eliminated.
 625:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     if(CAN_FIFO0 == fifo_number) {
 1325              		.loc 1 625 5 view .LVU474
 1326              		.loc 1 625 7 is_stmt 0 view .LVU475
 1327 0000 21B9     		cbnz	r1, .L113
 626:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_RFIFO0(can_periph) |= CAN_RFIFO0_RFD0;
 1328              		.loc 1 626 9 is_stmt 1 view .LVU476
 1329 0002 C368     		ldr	r3, [r0, #12]
 1330              		.loc 1 626 32 is_stmt 0 view .LVU477
 1331 0004 43F02003 		orr	r3, r3, #32
 1332 0008 C360     		str	r3, [r0, #12]
 1333 000a 7047     		bx	lr
 1334              	.L113:
 627:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else if(CAN_FIFO1 == fifo_number) {
 1335              		.loc 1 627 12 is_stmt 1 view .LVU478
 1336              		.loc 1 627 14 is_stmt 0 view .LVU479
 1337 000c 0129     		cmp	r1, #1
 1338 000e 04D1     		bne	.L115
 628:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_RFIFO1(can_periph) |= CAN_RFIFO1_RFD1;
 1339              		.loc 1 628 9 is_stmt 1 view .LVU480
 1340 0010 0369     		ldr	r3, [r0, #16]
 1341              		.loc 1 628 32 is_stmt 0 view .LVU481
 1342 0012 43F02003 		orr	r3, r3, #32
 1343 0016 0361     		str	r3, [r0, #16]
 629:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else {
 630:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* illegal parameters */
ARM GAS  /tmp/ccYq1EAb.s 			page 38


 631:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_ERROR_HANDLE("CAN FIFO NUM is invalid \r\n");
 632:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 633:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 1344              		.loc 1 633 1 view .LVU482
 1345 0018 7047     		bx	lr
 1346              	.L115:
 631:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 1347              		.loc 1 631 9 is_stmt 1 discriminator 1 view .LVU483
 631:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 1348              		.loc 1 631 9 discriminator 1 view .LVU484
 631:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 1349              		.loc 1 631 9 discriminator 1 view .LVU485
 1350 001a FEE7     		b	.L115
 1351              		.cfi_endproc
 1352              	.LFE129:
 1354              		.section	.text.can_receive_message_length_get,"ax",%progbits
 1355              		.align	1
 1356              		.global	can_receive_message_length_get
 1357              		.syntax unified
 1358              		.thumb
 1359              		.thumb_func
 1361              	can_receive_message_length_get:
 1362              	.LVL65:
 1363              	.LFB130:
 634:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 635:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*!
 636:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \brief      CAN receive message length
 637:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  can_periph
 638:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CANx(x=0,1)
 639:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  fifo_number
 640:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 only one parameter can be selected which is shown as below:
 641:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FIFOx(x=0,1)
 642:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[out] none
 643:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \retval     message length
 644:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
 645:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** uint8_t can_receive_message_length_get(uint32_t can_periph, uint8_t fifo_number)
 646:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
 1364              		.loc 1 646 1 view -0
 1365              		.cfi_startproc
 1366              		@ args = 0, pretend = 0, frame = 0
 1367              		@ frame_needed = 0, uses_anonymous_args = 0
 1368              		@ link register save eliminated.
 647:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     uint8_t val = 0U;
 1369              		.loc 1 647 5 view .LVU487
 648:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 649:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     if(CAN_FIFO0 == fifo_number) {
 1370              		.loc 1 649 5 view .LVU488
 1371              		.loc 1 649 7 is_stmt 0 view .LVU489
 1372 0000 19B9     		cbnz	r1, .L119
 650:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* FIFO0 */
 651:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         val = (uint8_t)(CAN_RFIFO0(can_periph) & CAN_RFIF_RFL_MASK);
 1373              		.loc 1 651 9 is_stmt 1 view .LVU490
 1374              		.loc 1 651 25 is_stmt 0 view .LVU491
 1375 0002 C068     		ldr	r0, [r0, #12]
 1376              	.LVL66:
 1377              	.L122:
 1378              	.LBB8:
ARM GAS  /tmp/ccYq1EAb.s 			page 39


 1379              	.LBB9:
 652:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else if(CAN_FIFO1 == fifo_number) {
 653:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* FIFO1 */
 654:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         val = (uint8_t)(CAN_RFIFO1(can_periph) & CAN_RFIF_RFL_MASK);
 1380              		.loc 1 654 13 view .LVU492
 1381 0004 00F00300 		and	r0, r0, #3
 1382              	.LVL67:
 1383              		.loc 1 654 13 view .LVU493
 1384 0008 7047     		bx	lr
 1385              	.LVL68:
 1386              	.L119:
 1387              		.loc 1 654 13 view .LVU494
 1388              	.LBE9:
 1389              	.LBI8:
 645:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
 1390              		.loc 1 645 9 is_stmt 1 view .LVU495
 1391              	.LBB10:
 652:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else if(CAN_FIFO1 == fifo_number) {
 1392              		.loc 1 652 12 view .LVU496
 652:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else if(CAN_FIFO1 == fifo_number) {
 1393              		.loc 1 652 14 is_stmt 0 view .LVU497
 1394 000a 0129     		cmp	r1, #1
 1395 000c 01D1     		bne	.L121
 1396              		.loc 1 654 9 is_stmt 1 view .LVU498
 1397              		.loc 1 654 25 is_stmt 0 view .LVU499
 1398 000e 0069     		ldr	r0, [r0, #16]
 1399              	.LVL69:
 1400              		.loc 1 654 25 view .LVU500
 1401 0010 F8E7     		b	.L122
 1402              	.LVL70:
 1403              	.L121:
 647:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 1404              		.loc 1 647 13 view .LVU501
 1405 0012 0020     		movs	r0, #0
 1406              	.LVL71:
 647:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 1407              		.loc 1 647 13 view .LVU502
 1408              	.LBE10:
 1409              	.LBE8:
 655:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else {
 656:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* illegal parameters */
 657:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 1410              		.loc 1 657 5 is_stmt 1 view .LVU503
 658:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     return val;
 1411              		.loc 1 658 5 view .LVU504
 659:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 1412              		.loc 1 659 1 is_stmt 0 view .LVU505
 1413 0014 7047     		bx	lr
 1414              		.cfi_endproc
 1415              	.LFE130:
 1417              		.section	.text.can_working_mode_set,"ax",%progbits
 1418              		.align	1
 1419              		.global	can_working_mode_set
 1420              		.syntax unified
 1421              		.thumb
 1422              		.thumb_func
 1424              	can_working_mode_set:
ARM GAS  /tmp/ccYq1EAb.s 			page 40


 1425              	.LVL72:
 1426              	.LFB131:
 660:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 661:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*!
 662:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \brief      set CAN working mode
 663:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  can_periph
 664:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CANx(x=0,1)
 665:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  can_working_mode
 666:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 only one parameter can be selected which is shown as below:
 667:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_MODE_INITIALIZE
 668:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_MODE_NORMAL
 669:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_MODE_SLEEP
 670:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[out] none
 671:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \retval     ErrStatus: SUCCESS or ERROR
 672:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
 673:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** ErrStatus can_working_mode_set(uint32_t can_periph, uint8_t working_mode)
 674:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
 1427              		.loc 1 674 1 is_stmt 1 view -0
 1428              		.cfi_startproc
 1429              		@ args = 0, pretend = 0, frame = 0
 1430              		@ frame_needed = 0, uses_anonymous_args = 0
 1431              		@ link register save eliminated.
 675:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     ErrStatus flag = ERROR;
 1432              		.loc 1 675 5 view .LVU507
 676:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* timeout for IWS or also for SLPWS bits */
 677:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     uint32_t timeout = CAN_TIMEOUT;
 1433              		.loc 1 677 5 view .LVU508
 678:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 679:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     if(CAN_MODE_INITIALIZE == working_mode) {
 1434              		.loc 1 679 5 view .LVU509
 1435              		.loc 1 679 7 is_stmt 0 view .LVU510
 1436 0000 0129     		cmp	r1, #1
 1437 0002 13D1     		bne	.L124
 680:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* disable sleep mode */
 681:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_CTL(can_periph) &= (~(uint32_t)CAN_CTL_SLPWMOD);
 1438              		.loc 1 681 9 is_stmt 1 view .LVU511
 1439 0004 0368     		ldr	r3, [r0]
 1440              		.loc 1 681 29 is_stmt 0 view .LVU512
 1441 0006 23F00203 		bic	r3, r3, #2
 1442 000a 0360     		str	r3, [r0]
 682:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* set initialize mode */
 683:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_CTL(can_periph) |= (uint8_t)CAN_CTL_IWMOD;
 1443              		.loc 1 683 9 is_stmt 1 view .LVU513
 1444 000c 0368     		ldr	r3, [r0]
 1445              		.loc 1 683 29 is_stmt 0 view .LVU514
 1446 000e 43F00103 		orr	r3, r3, #1
 1447 0012 0360     		str	r3, [r0]
 684:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* wait the acknowledge */
 685:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         while((CAN_STAT_IWS != (CAN_STAT(can_periph) & CAN_STAT_IWS)) && (0U != timeout)) {
 1448              		.loc 1 685 9 is_stmt 1 view .LVU515
 1449              		.loc 1 685 14 is_stmt 0 view .LVU516
 1450 0014 4FF48033 		mov	r3, #65536
 1451              	.LVL73:
 1452              	.L127:
 1453              		.loc 1 685 71 is_stmt 1 view .LVU517
 1454              		.loc 1 685 33 is_stmt 0 view .LVU518
 1455 0018 4268     		ldr	r2, [r0, #4]
ARM GAS  /tmp/ccYq1EAb.s 			page 41


 1456              		.loc 1 685 71 view .LVU519
 1457 001a D207     		lsls	r2, r2, #31
 1458 001c 03D5     		bpl	.L125
 1459              	.LVL74:
 1460              	.L128:
 686:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             timeout--;
 687:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         }
 688:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         if(CAN_STAT_IWS != (CAN_STAT(can_periph) & CAN_STAT_IWS)) {
 1461              		.loc 1 688 9 is_stmt 1 view .LVU520
 1462              		.loc 1 688 29 is_stmt 0 view .LVU521
 1463 001e 4068     		ldr	r0, [r0, #4]
 1464              	.LVL75:
 1465              		.loc 1 688 29 view .LVU522
 1466 0020 00F00100 		and	r0, r0, #1
 1467 0024 7047     		bx	lr
 1468              	.LVL76:
 1469              	.L125:
 685:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             timeout--;
 1470              		.loc 1 685 71 discriminator 1 view .LVU523
 1471 0026 013B     		subs	r3, r3, #1
 1472              	.LVL77:
 685:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             timeout--;
 1473              		.loc 1 685 71 discriminator 1 view .LVU524
 1474 0028 F6D1     		bne	.L127
 1475 002a F8E7     		b	.L128
 1476              	.LVL78:
 1477              	.L124:
 689:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             flag = ERROR;
 690:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         } else {
 691:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             flag = SUCCESS;
 692:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         }
 693:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else if(CAN_MODE_NORMAL == working_mode) {
 1478              		.loc 1 693 12 is_stmt 1 view .LVU525
 1479              		.loc 1 693 14 is_stmt 0 view .LVU526
 1480 002c 0229     		cmp	r1, #2
 1481 002e 12D1     		bne	.L129
 694:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* enter normal mode */
 695:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_CTL(can_periph) &= ~(uint32_t)(CAN_CTL_SLPWMOD | CAN_CTL_IWMOD);
 1482              		.loc 1 695 9 is_stmt 1 view .LVU527
 1483 0030 0368     		ldr	r3, [r0]
 1484              		.loc 1 695 29 is_stmt 0 view .LVU528
 1485 0032 23F00303 		bic	r3, r3, #3
 1486 0036 0360     		str	r3, [r0]
 696:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* wait the acknowledge */
 697:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         while((0U != (CAN_STAT(can_periph) & (CAN_STAT_IWS | CAN_STAT_SLPWS))) && (0U != timeout)) 
 1487              		.loc 1 697 9 is_stmt 1 view .LVU529
 1488              		.loc 1 697 14 is_stmt 0 view .LVU530
 1489 0038 4FF48033 		mov	r3, #65536
 1490              	.LVL79:
 1491              	.L131:
 1492              		.loc 1 697 80 is_stmt 1 view .LVU531
 1493              		.loc 1 697 23 is_stmt 0 view .LVU532
 1494 003c 4268     		ldr	r2, [r0, #4]
 1495              		.loc 1 697 80 view .LVU533
 1496 003e 9107     		lsls	r1, r2, #30
 1497 0040 06D1     		bne	.L130
 1498              	.LVL80:
ARM GAS  /tmp/ccYq1EAb.s 			page 42


 1499              	.L132:
 698:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             timeout--;
 699:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         }
 700:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         if(0U != (CAN_STAT(can_periph) & (CAN_STAT_IWS | CAN_STAT_SLPWS))) {
 1500              		.loc 1 700 9 is_stmt 1 view .LVU534
 1501              		.loc 1 700 19 is_stmt 0 view .LVU535
 1502 0042 4368     		ldr	r3, [r0, #4]
 1503              		.loc 1 700 11 view .LVU536
 1504 0044 13F0030F 		tst	r3, #3
 1505 0048 0CBF     		ite	eq
 1506 004a 0120     		moveq	r0, #1
 1507              	.LVL81:
 1508              		.loc 1 700 11 view .LVU537
 1509 004c 0020     		movne	r0, #0
 1510 004e 7047     		bx	lr
 1511              	.LVL82:
 1512              	.L130:
 697:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             timeout--;
 1513              		.loc 1 697 80 discriminator 1 view .LVU538
 1514 0050 013B     		subs	r3, r3, #1
 1515              	.LVL83:
 697:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             timeout--;
 1516              		.loc 1 697 80 discriminator 1 view .LVU539
 1517 0052 F3D1     		bne	.L131
 1518 0054 F5E7     		b	.L132
 1519              	.LVL84:
 1520              	.L129:
 701:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             flag = ERROR;
 702:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         } else {
 703:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             flag = SUCCESS;
 704:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         }
 705:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else if(CAN_MODE_SLEEP == working_mode) {
 1521              		.loc 1 705 12 is_stmt 1 view .LVU540
 1522              		.loc 1 705 14 is_stmt 0 view .LVU541
 1523 0056 0429     		cmp	r1, #4
 1524 0058 13D1     		bne	.L136
 706:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* disable initialize mode */
 707:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_CTL(can_periph) &= (~(uint32_t)CAN_CTL_IWMOD);
 1525              		.loc 1 707 9 is_stmt 1 view .LVU542
 1526 005a 0368     		ldr	r3, [r0]
 1527              		.loc 1 707 29 is_stmt 0 view .LVU543
 1528 005c 23F00103 		bic	r3, r3, #1
 1529 0060 0360     		str	r3, [r0]
 708:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* set sleep mode */
 709:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         CAN_CTL(can_periph) |= (uint8_t)CAN_CTL_SLPWMOD;
 1530              		.loc 1 709 9 is_stmt 1 view .LVU544
 1531 0062 0368     		ldr	r3, [r0]
 1532              		.loc 1 709 29 is_stmt 0 view .LVU545
 1533 0064 43F00203 		orr	r3, r3, #2
 1534 0068 0360     		str	r3, [r0]
 710:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* wait the acknowledge */
 711:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         while((CAN_STAT_SLPWS != (CAN_STAT(can_periph) & CAN_STAT_SLPWS)) && (0U != timeout)) {
 1535              		.loc 1 711 9 is_stmt 1 view .LVU546
 1536              		.loc 1 711 14 is_stmt 0 view .LVU547
 1537 006a 4FF48033 		mov	r3, #65536
 1538              	.LVL85:
 1539              	.L134:
ARM GAS  /tmp/ccYq1EAb.s 			page 43


 1540              		.loc 1 711 75 is_stmt 1 view .LVU548
 1541              		.loc 1 711 35 is_stmt 0 view .LVU549
 1542 006e 4268     		ldr	r2, [r0, #4]
 1543              		.loc 1 711 75 view .LVU550
 1544 0070 9207     		lsls	r2, r2, #30
 1545 0072 03D5     		bpl	.L133
 1546              	.LVL86:
 1547              	.L135:
 712:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             timeout--;
 713:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         }
 714:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         if(CAN_STAT_SLPWS != (CAN_STAT(can_periph) & CAN_STAT_SLPWS)) {
 1548              		.loc 1 714 9 is_stmt 1 view .LVU551
 1549              		.loc 1 714 31 is_stmt 0 view .LVU552
 1550 0074 4068     		ldr	r0, [r0, #4]
 1551              	.LVL87:
 1552              		.loc 1 714 11 view .LVU553
 1553 0076 C0F34000 		ubfx	r0, r0, #1, #1
 1554 007a 7047     		bx	lr
 1555              	.LVL88:
 1556              	.L133:
 711:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             timeout--;
 1557              		.loc 1 711 75 discriminator 1 view .LVU554
 1558 007c 013B     		subs	r3, r3, #1
 1559              	.LVL89:
 711:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             timeout--;
 1560              		.loc 1 711 75 discriminator 1 view .LVU555
 1561 007e F6D1     		bne	.L134
 1562 0080 F8E7     		b	.L135
 1563              	.LVL90:
 1564              	.L136:
 715:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             flag = ERROR;
 716:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         } else {
 717:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****             flag = SUCCESS;
 718:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         }
 719:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else {
 720:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         flag = ERROR;
 1565              		.loc 1 720 14 view .LVU556
 1566 0082 0020     		movs	r0, #0
 1567              	.LVL91:
 721:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 722:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     return flag;
 1568              		.loc 1 722 5 is_stmt 1 view .LVU557
 723:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 1569              		.loc 1 723 1 is_stmt 0 view .LVU558
 1570 0084 7047     		bx	lr
 1571              		.cfi_endproc
 1572              	.LFE131:
 1574              		.section	.text.can_wakeup,"ax",%progbits
 1575              		.align	1
 1576              		.global	can_wakeup
 1577              		.syntax unified
 1578              		.thumb
 1579              		.thumb_func
 1581              	can_wakeup:
 1582              	.LVL92:
 1583              	.LFB132:
 724:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
ARM GAS  /tmp/ccYq1EAb.s 			page 44


 725:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*!
 726:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \brief      wake up CAN
 727:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  can_periph
 728:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CANx(x=0,1)
 729:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[out] none
 730:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \retval     ErrStatus: SUCCESS or ERROR
 731:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
 732:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** ErrStatus can_wakeup(uint32_t can_periph)
 733:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
 1584              		.loc 1 733 1 is_stmt 1 view -0
 1585              		.cfi_startproc
 1586              		@ args = 0, pretend = 0, frame = 0
 1587              		@ frame_needed = 0, uses_anonymous_args = 0
 1588              		@ link register save eliminated.
 734:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     ErrStatus flag = ERROR;
 1589              		.loc 1 734 5 view .LVU560
 735:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     uint32_t timeout = CAN_TIMEOUT;
 1590              		.loc 1 735 5 view .LVU561
 736:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 737:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* wakeup */
 738:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     CAN_CTL(can_periph) &= ~CAN_CTL_SLPWMOD;
 1591              		.loc 1 738 5 view .LVU562
 1592 0000 0368     		ldr	r3, [r0]
 1593              		.loc 1 738 25 is_stmt 0 view .LVU563
 1594 0002 23F00203 		bic	r3, r3, #2
 1595 0006 0360     		str	r3, [r0]
 739:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 740:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     while((0U != (CAN_STAT(can_periph) & CAN_STAT_SLPWS)) && (0x00U != timeout)) {
 1596              		.loc 1 740 5 is_stmt 1 view .LVU564
 1597              		.loc 1 740 10 is_stmt 0 view .LVU565
 1598 0008 4FF48033 		mov	r3, #65536
 1599              	.LVL93:
 1600              	.L142:
 1601              		.loc 1 740 59 is_stmt 1 view .LVU566
 1602              		.loc 1 740 19 is_stmt 0 view .LVU567
 1603 000c 4268     		ldr	r2, [r0, #4]
 1604              		.loc 1 740 59 view .LVU568
 1605 000e 9207     		lsls	r2, r2, #30
 1606 0010 01D5     		bpl	.L143
 1607              		.loc 1 740 59 discriminator 1 view .LVU569
 1608 0012 013B     		subs	r3, r3, #1
 1609              	.LVL94:
 1610              		.loc 1 740 59 discriminator 1 view .LVU570
 1611 0014 FAD1     		bne	.L142
 1612              	.LVL95:
 1613              	.L143:
 741:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         timeout--;
 742:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 743:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* check state */
 744:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     if(0U != (CAN_STAT(can_periph) & CAN_STAT_SLPWS)) {
 1614              		.loc 1 744 5 is_stmt 1 view .LVU571
 1615              		.loc 1 744 15 is_stmt 0 view .LVU572
 1616 0016 4068     		ldr	r0, [r0, #4]
 1617              	.LVL96:
 745:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         flag = ERROR;
 746:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else {
 747:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         flag = SUCCESS;
ARM GAS  /tmp/ccYq1EAb.s 			page 45


 748:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 749:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     return flag;
 1618              		.loc 1 749 5 is_stmt 1 view .LVU573
 744:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         flag = ERROR;
 1619              		.loc 1 744 7 is_stmt 0 view .LVU574
 1620 0018 80F00200 		eor	r0, r0, #2
 1621              	.LVL97:
 1622              		.loc 1 749 12 view .LVU575
 1623 001c C0F34000 		ubfx	r0, r0, #1, #1
 1624              	.LVL98:
 750:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 1625              		.loc 1 750 1 view .LVU576
 1626 0020 7047     		bx	lr
 1627              		.cfi_endproc
 1628              	.LFE132:
 1630              		.section	.text.can_error_get,"ax",%progbits
 1631              		.align	1
 1632              		.global	can_error_get
 1633              		.syntax unified
 1634              		.thumb
 1635              		.thumb_func
 1637              	can_error_get:
 1638              	.LVL99:
 1639              	.LFB133:
 751:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 752:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*!
 753:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \brief      get CAN error type
 754:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  can_periph
 755:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CANx(x=0,1)
 756:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[out] none
 757:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \retval     can_error_enum
 758:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_ERROR_NONE: no error
 759:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_ERROR_FILL: fill error
 760:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_ERROR_FORMATE: format error
 761:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_ERROR_ACK: ACK error
 762:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_ERROR_BITRECESSIVE: bit recessive
 763:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_ERROR_BITDOMINANTER: bit dominant error
 764:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_ERROR_CRC: CRC error
 765:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_ERROR_SOFTWARECFG: software configure
 766:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
 767:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** can_error_enum can_error_get(uint32_t can_periph)
 768:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
 1640              		.loc 1 768 1 is_stmt 1 view -0
 1641              		.cfi_startproc
 1642              		@ args = 0, pretend = 0, frame = 0
 1643              		@ frame_needed = 0, uses_anonymous_args = 0
 1644              		@ link register save eliminated.
 769:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     can_error_enum error;
 1645              		.loc 1 769 5 view .LVU578
 770:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     error = CAN_ERROR_NONE;
 1646              		.loc 1 770 5 view .LVU579
 771:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 772:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* get error type */
 773:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     error = (can_error_enum)(GET_ERR_ERRN(CAN_ERR(can_periph)));
 1647              		.loc 1 773 5 view .LVU580
 1648              		.loc 1 773 30 is_stmt 0 view .LVU581
 1649 0000 8069     		ldr	r0, [r0, #24]
ARM GAS  /tmp/ccYq1EAb.s 			page 46


 1650              	.LVL100:
 774:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     return error;
 1651              		.loc 1 774 5 is_stmt 1 view .LVU582
 775:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 1652              		.loc 1 775 1 is_stmt 0 view .LVU583
 1653 0002 C0F30210 		ubfx	r0, r0, #4, #3
 1654              	.LVL101:
 1655              		.loc 1 775 1 view .LVU584
 1656 0006 7047     		bx	lr
 1657              		.cfi_endproc
 1658              	.LFE133:
 1660              		.section	.text.can_receive_error_number_get,"ax",%progbits
 1661              		.align	1
 1662              		.global	can_receive_error_number_get
 1663              		.syntax unified
 1664              		.thumb
 1665              		.thumb_func
 1667              	can_receive_error_number_get:
 1668              	.LVL102:
 1669              	.LFB134:
 776:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 777:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*!
 778:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \brief      get CAN receive error number
 779:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  can_periph
 780:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CANx(x=0,1)
 781:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[out] none
 782:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \retval     error number
 783:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
 784:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** uint8_t can_receive_error_number_get(uint32_t can_periph)
 785:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
 1670              		.loc 1 785 1 is_stmt 1 view -0
 1671              		.cfi_startproc
 1672              		@ args = 0, pretend = 0, frame = 0
 1673              		@ frame_needed = 0, uses_anonymous_args = 0
 1674              		@ link register save eliminated.
 786:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     uint8_t val;
 1675              		.loc 1 786 5 view .LVU586
 787:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 788:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* get error count */
 789:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     val = (uint8_t)(GET_ERR_RECNT(CAN_ERR(can_periph)));
 1676              		.loc 1 789 5 view .LVU587
 1677              		.loc 1 789 21 is_stmt 0 view .LVU588
 1678 0000 8069     		ldr	r0, [r0, #24]
 1679              	.LVL103:
 790:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     return val;
 1680              		.loc 1 790 5 is_stmt 1 view .LVU589
 791:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 1681              		.loc 1 791 1 is_stmt 0 view .LVU590
 1682 0002 000E     		lsrs	r0, r0, #24
 1683              	.LVL104:
 1684              		.loc 1 791 1 view .LVU591
 1685 0004 7047     		bx	lr
 1686              		.cfi_endproc
 1687              	.LFE134:
 1689              		.section	.text.can_transmit_error_number_get,"ax",%progbits
 1690              		.align	1
 1691              		.global	can_transmit_error_number_get
ARM GAS  /tmp/ccYq1EAb.s 			page 47


 1692              		.syntax unified
 1693              		.thumb
 1694              		.thumb_func
 1696              	can_transmit_error_number_get:
 1697              	.LVL105:
 1698              	.LFB135:
 792:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 793:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*!
 794:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \brief      get CAN transmit error number
 795:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  can_periph
 796:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CANx(x=0,1)
 797:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[out] none
 798:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \retval     error number
 799:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
 800:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** uint8_t can_transmit_error_number_get(uint32_t can_periph)
 801:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
 1699              		.loc 1 801 1 is_stmt 1 view -0
 1700              		.cfi_startproc
 1701              		@ args = 0, pretend = 0, frame = 0
 1702              		@ frame_needed = 0, uses_anonymous_args = 0
 1703              		@ link register save eliminated.
 802:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     uint8_t val;
 1704              		.loc 1 802 5 view .LVU593
 803:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 804:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     val = (uint8_t)(GET_ERR_TECNT(CAN_ERR(can_periph)));
 1705              		.loc 1 804 5 view .LVU594
 1706              		.loc 1 804 21 is_stmt 0 view .LVU595
 1707 0000 8069     		ldr	r0, [r0, #24]
 1708              	.LVL106:
 805:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     return val;
 1709              		.loc 1 805 5 is_stmt 1 view .LVU596
 806:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 1710              		.loc 1 806 1 is_stmt 0 view .LVU597
 1711 0002 C0F30740 		ubfx	r0, r0, #16, #8
 1712              	.LVL107:
 1713              		.loc 1 806 1 view .LVU598
 1714 0006 7047     		bx	lr
 1715              		.cfi_endproc
 1716              	.LFE135:
 1718              		.section	.text.can_flag_get,"ax",%progbits
 1719              		.align	1
 1720              		.global	can_flag_get
 1721              		.syntax unified
 1722              		.thumb
 1723              		.thumb_func
 1725              	can_flag_get:
 1726              	.LVL108:
 1727              	.LFB136:
 807:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 808:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*!
 809:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \brief      get CAN flag state
 810:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  can_periph
 811:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CANx(x=0,1)
 812:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  flag: CAN flags, refer to can_flag_enum
 813:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 only one parameter can be selected which is shown as below:
 814:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_RXL: RX level
 815:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_LASTRX: last sample value of RX pin
ARM GAS  /tmp/ccYq1EAb.s 			page 48


 816:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_RS: receiving state
 817:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_TS: transmitting state
 818:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_SLPIF: status change flag of entering sleep working mode
 819:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_WUIF: status change flag of wakeup from sleep working mode
 820:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_ERRIF: error flag
 821:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_SLPWS: sleep working state
 822:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_IWS: initial working state
 823:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_TMLS2: transmit mailbox 2 last sending in TX FIFO
 824:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_TMLS1: transmit mailbox 1 last sending in TX FIFO
 825:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_TMLS0: transmit mailbox 0 last sending in TX FIFO
 826:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_TME2: transmit mailbox 2 empty
 827:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_TME1: transmit mailbox 1 empty
 828:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_TME0: transmit mailbox 0 empty
 829:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_MTE2: mailbox 2 transmit error
 830:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_MTE1: mailbox 1 transmit error
 831:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_MTE0: mailbox 0 transmit error
 832:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_MAL2: mailbox 2 arbitration lost
 833:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_MAL1: mailbox 1 arbitration lost
 834:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_MAL0: mailbox 0 arbitration lost
 835:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_MTFNERR2: mailbox 2 transmit finished with no error
 836:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_MTFNERR1: mailbox 1 transmit finished with no error
 837:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_MTFNERR0: mailbox 0 transmit finished with no error
 838:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_MTF2: mailbox 2 transmit finished
 839:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_MTF1: mailbox 1 transmit finished
 840:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_MTF0: mailbox 0 transmit finished
 841:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_RFO0: receive FIFO0 overfull
 842:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_RFF0: receive FIFO0 full
 843:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_RFO1: receive FIFO1 overfull
 844:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_RFF1: receive FIFO1 full
 845:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_BOERR: bus-off error
 846:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_PERR: passive error
 847:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_WERR: warning error
 848:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[out] none
 849:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \retval     FlagStatus: SET or RESET
 850:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
 851:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** FlagStatus can_flag_get(uint32_t can_periph, can_flag_enum flag)
 852:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
 1728              		.loc 1 852 1 is_stmt 1 view -0
 1729              		.cfi_startproc
 1730              		@ args = 0, pretend = 0, frame = 0
 1731              		@ frame_needed = 0, uses_anonymous_args = 0
 1732              		@ link register save eliminated.
 853:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* get flag and interrupt enable state */
 854:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     if(RESET != (CAN_REG_VAL(can_periph, flag) & BIT(CAN_BIT_POS(flag)))) {
 1733              		.loc 1 854 5 view .LVU600
 1734              		.loc 1 854 18 is_stmt 0 view .LVU601
 1735 0000 8B09     		lsrs	r3, r1, #6
 1736              		.loc 1 854 50 view .LVU602
 1737 0002 01F01F01 		and	r1, r1, #31
 1738              	.LVL109:
 1739              		.loc 1 854 18 view .LVU603
 1740 0006 1858     		ldr	r0, [r3, r0]
 1741              	.LVL110:
 1742              		.loc 1 854 14 view .LVU604
 1743 0008 C840     		lsrs	r0, r0, r1
 855:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         return SET;
 856:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else {
ARM GAS  /tmp/ccYq1EAb.s 			page 49


 857:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         return RESET;
 858:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 859:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 1744              		.loc 1 859 1 view .LVU605
 1745 000a 00F00100 		and	r0, r0, #1
 1746 000e 7047     		bx	lr
 1747              		.cfi_endproc
 1748              	.LFE136:
 1750              		.section	.text.can_flag_clear,"ax",%progbits
 1751              		.align	1
 1752              		.global	can_flag_clear
 1753              		.syntax unified
 1754              		.thumb
 1755              		.thumb_func
 1757              	can_flag_clear:
 1758              	.LVL111:
 1759              	.LFB137:
 860:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 861:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*!
 862:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \brief      clear CAN flag state
 863:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  can_periph
 864:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CANx(x=0,1)
 865:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  flag: CAN flags, refer to can_flag_enum
 866:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 only one parameter can be selected which is shown as below:
 867:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_SLPIF: status change flag of entering sleep working mode
 868:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_WUIF: status change flag of wakeup from sleep working mode
 869:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_ERRIF: error flag
 870:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_MTE2: mailbox 2 transmit error
 871:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_MTE1: mailbox 1 transmit error
 872:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_MTE0: mailbox 0 transmit error
 873:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_MAL2: mailbox 2 arbitration lost
 874:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_MAL1: mailbox 1 arbitration lost
 875:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_MAL0: mailbox 0 arbitration lost
 876:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_MTFNERR2: mailbox 2 transmit finished with no error
 877:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_MTFNERR1: mailbox 1 transmit finished with no error
 878:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_MTFNERR0: mailbox 0 transmit finished with no error
 879:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_MTF2: mailbox 2 transmit finished
 880:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_MTF1: mailbox 1 transmit finished
 881:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_MTF0: mailbox 0 transmit finished
 882:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_RFO0: receive FIFO0 overfull
 883:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_RFF0: receive FIFO0 full
 884:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_RFO1: receive FIFO1 overfull
 885:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_FLAG_RFF1: receive FIFO1 full
 886:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[out] none
 887:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \retval     none
 888:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
 889:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** void can_flag_clear(uint32_t can_periph, can_flag_enum flag)
 890:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
 1760              		.loc 1 890 1 is_stmt 1 view -0
 1761              		.cfi_startproc
 1762              		@ args = 0, pretend = 0, frame = 0
 1763              		@ frame_needed = 0, uses_anonymous_args = 0
 1764              		@ link register save eliminated.
 891:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     CAN_REG_VAL(can_periph, flag) = BIT(CAN_BIT_POS(flag));
 1765              		.loc 1 891 5 view .LVU607
 1766 0000 8A09     		lsrs	r2, r1, #6
 1767              		.loc 1 891 37 is_stmt 0 view .LVU608
ARM GAS  /tmp/ccYq1EAb.s 			page 50


 1768 0002 0123     		movs	r3, #1
 1769 0004 01F01F01 		and	r1, r1, #31
 1770              	.LVL112:
 1771              		.loc 1 891 37 view .LVU609
 1772 0008 8B40     		lsls	r3, r3, r1
 1773              		.loc 1 891 35 view .LVU610
 1774 000a 1350     		str	r3, [r2, r0]
 892:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 1775              		.loc 1 892 1 view .LVU611
 1776 000c 7047     		bx	lr
 1777              		.cfi_endproc
 1778              	.LFE137:
 1780              		.section	.text.can_interrupt_enable,"ax",%progbits
 1781              		.align	1
 1782              		.global	can_interrupt_enable
 1783              		.syntax unified
 1784              		.thumb
 1785              		.thumb_func
 1787              	can_interrupt_enable:
 1788              	.LVL113:
 1789              	.LFB138:
 893:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 894:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*!
 895:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \brief      enable CAN interrupt
 896:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  can_periph
 897:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CANx(x=0,1)
 898:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  interrupt
 899:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 one or more parameters can be selected which are shown as below:
 900:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_TME: transmit mailbox empty interrupt enable
 901:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_RFNE0: receive FIFO0 not empty interrupt enable
 902:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_RFF0: receive FIFO0 full interrupt enable
 903:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_RFO0: receive FIFO0 overfull interrupt enable
 904:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_RFNE1: receive FIFO1 not empty interrupt enable
 905:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_RFF1: receive FIFO1 full interrupt enable
 906:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_RFO1: receive FIFO1 overfull interrupt enable
 907:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_WERR: warning error interrupt enable
 908:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_PERR: passive error interrupt enable
 909:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_BO: bus-off interrupt enable
 910:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_ERRN: error number interrupt enable
 911:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_ERR: error interrupt enable
 912:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_WAKEUP: wakeup interrupt enable
 913:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_SLPW: sleep working interrupt enable
 914:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[out] none
 915:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \retval     none
 916:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
 917:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** void can_interrupt_enable(uint32_t can_periph, uint32_t interrupt)
 918:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
 1790              		.loc 1 918 1 is_stmt 1 view -0
 1791              		.cfi_startproc
 1792              		@ args = 0, pretend = 0, frame = 0
 1793              		@ frame_needed = 0, uses_anonymous_args = 0
 1794              		@ link register save eliminated.
 919:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     CAN_INTEN(can_periph) |= interrupt;
 1795              		.loc 1 919 5 view .LVU613
 1796 0000 4369     		ldr	r3, [r0, #20]
 1797              		.loc 1 919 27 is_stmt 0 view .LVU614
 1798 0002 0B43     		orrs	r3, r3, r1
ARM GAS  /tmp/ccYq1EAb.s 			page 51


 1799 0004 4361     		str	r3, [r0, #20]
 920:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 1800              		.loc 1 920 1 view .LVU615
 1801 0006 7047     		bx	lr
 1802              		.cfi_endproc
 1803              	.LFE138:
 1805              		.section	.text.can_interrupt_disable,"ax",%progbits
 1806              		.align	1
 1807              		.global	can_interrupt_disable
 1808              		.syntax unified
 1809              		.thumb
 1810              		.thumb_func
 1812              	can_interrupt_disable:
 1813              	.LVL114:
 1814              	.LFB139:
 921:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 922:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*!
 923:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \brief      disable CAN interrupt
 924:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  can_periph
 925:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CANx(x=0,1)
 926:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  interrupt
 927:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 one or more parameters can be selected which are shown as below:
 928:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_TME: transmit mailbox empty interrupt enable
 929:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_RFNE0: receive FIFO0 not empty interrupt enable
 930:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_RFF0: receive FIFO0 full interrupt enable
 931:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_RFO0: receive FIFO0 overfull interrupt enable
 932:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_RFNE1: receive FIFO1 not empty interrupt enable
 933:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_RFF1: receive FIFO1 full interrupt enable
 934:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_RFO1: receive FIFO1 overfull interrupt enable
 935:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_WERR: warning error interrupt enable
 936:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_PERR: passive error interrupt enable
 937:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_BO: bus-off interrupt enable
 938:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_ERRN: error number interrupt enable
 939:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_ERR: error interrupt enable
 940:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_WAKEUP: wakeup interrupt enable
 941:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_SLPW: sleep working interrupt enable
 942:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[out] none
 943:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \retval     none
 944:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
 945:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** void can_interrupt_disable(uint32_t can_periph, uint32_t interrupt)
 946:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
 1815              		.loc 1 946 1 is_stmt 1 view -0
 1816              		.cfi_startproc
 1817              		@ args = 0, pretend = 0, frame = 0
 1818              		@ frame_needed = 0, uses_anonymous_args = 0
 1819              		@ link register save eliminated.
 947:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     CAN_INTEN(can_periph) &= ~interrupt;
 1820              		.loc 1 947 5 view .LVU617
 1821 0000 4369     		ldr	r3, [r0, #20]
 1822              		.loc 1 947 27 is_stmt 0 view .LVU618
 1823 0002 23EA0103 		bic	r3, r3, r1
 1824 0006 4361     		str	r3, [r0, #20]
 948:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 1825              		.loc 1 948 1 view .LVU619
 1826 0008 7047     		bx	lr
 1827              		.cfi_endproc
 1828              	.LFE139:
ARM GAS  /tmp/ccYq1EAb.s 			page 52


 1830              		.section	.text.can_interrupt_flag_get,"ax",%progbits
 1831              		.align	1
 1832              		.global	can_interrupt_flag_get
 1833              		.syntax unified
 1834              		.thumb
 1835              		.thumb_func
 1837              	can_interrupt_flag_get:
 1838              	.LVL115:
 1839              	.LFB140:
 949:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 950:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*!
 951:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \brief      get CAN interrupt flag state
 952:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  can_periph
 953:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CANx(x=0,1)
 954:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  flag: CAN interrupt flags, refer to can_interrupt_flag_enum
 955:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 only one parameter can be selected which is shown as below:
 956:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_FLAG_SLPIF: status change interrupt flag of sleep working mode entering
 957:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_FLAG_WUIF: status change interrupt flag of wakeup from sleep working mode
 958:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_FLAG_ERRIF: error interrupt flag
 959:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_FLAG_MTF2: mailbox 2 transmit finished interrupt flag
 960:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_FLAG_MTF1: mailbox 1 transmit finished interrupt flag
 961:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_FLAG_MTF0: mailbox 0 transmit finished interrupt flag
 962:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_FLAG_RFO0: receive FIFO0 overfull interrupt flag
 963:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_FLAG_RFF0: receive FIFO0 full interrupt flag
 964:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_FLAG_RFL0: receive FIFO0 not empty interrupt flag
 965:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_FLAG_RFO1: receive FIFO1 overfull interrupt flag
 966:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_FLAG_RFF1: receive FIFO1 full interrupt flag
 967:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_FLAG_RFL1: receive FIFO1 not empty interrupt flag
 968:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_FLAG_ERRN: error number interrupt flag
 969:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_FLAG_BOERR: bus-off error interrupt flag
 970:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_FLAG_PERR: passive error interrupt flag
 971:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_FLAG_WERR: warning error interrupt flag
 972:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[out] none
 973:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \retval     FlagStatus: SET or RESET
 974:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
 975:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** FlagStatus can_interrupt_flag_get(uint32_t can_periph, can_interrupt_flag_enum flag)
 976:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
 1840              		.loc 1 976 1 is_stmt 1 view -0
 1841              		.cfi_startproc
 1842              		@ args = 0, pretend = 0, frame = 0
 1843              		@ frame_needed = 0, uses_anonymous_args = 0
 977:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     uint32_t ret1 = RESET;
 1844              		.loc 1 977 5 view .LVU621
 978:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     uint32_t ret2 = RESET;
 1845              		.loc 1 978 5 view .LVU622
 979:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 980:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* get the status of interrupt flag */
 981:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     if(flag == CAN_INT_FLAG_RFL0) {
 1846              		.loc 1 981 5 view .LVU623
 1847              		.loc 1 981 7 is_stmt 0 view .LVU624
 1848 0000 4CF28102 		movw	r2, #49281
 1849 0004 9142     		cmp	r1, r2
 976:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     uint32_t ret1 = RESET;
 1850              		.loc 1 976 1 view .LVU625
 1851 0006 10B5     		push	{r4, lr}
 1852              	.LCFI7:
 1853              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccYq1EAb.s 			page 53


 1854              		.cfi_offset 4, -8
 1855              		.cfi_offset 14, -4
 976:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     uint32_t ret1 = RESET;
 1856              		.loc 1 976 1 view .LVU626
 1857 0008 0346     		mov	r3, r0
 1858              		.loc 1 981 7 view .LVU627
 1859 000a 0DD1     		bne	.L154
 982:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ret1 = can_receive_message_length_get(can_periph, CAN_FIFO0);
 1860              		.loc 1 982 9 is_stmt 1 view .LVU628
 1861              	.LVL116:
 1862              	.LBB17:
 1863              	.LBI17:
 645:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
 1864              		.loc 1 645 9 view .LVU629
 1865              	.LBB18:
 647:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 1866              		.loc 1 647 5 view .LVU630
 649:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* FIFO0 */
 1867              		.loc 1 649 5 view .LVU631
 651:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else if(CAN_FIFO1 == fifo_number) {
 1868              		.loc 1 651 9 view .LVU632
 651:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else if(CAN_FIFO1 == fifo_number) {
 1869              		.loc 1 651 25 is_stmt 0 view .LVU633
 1870 000c C068     		ldr	r0, [r0, #12]
 1871              	.LVL117:
 657:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     return val;
 1872              		.loc 1 657 5 is_stmt 1 view .LVU634
 658:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 1873              		.loc 1 658 5 view .LVU635
 1874              	.L160:
 658:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 1875              		.loc 1 658 5 is_stmt 0 view .LVU636
 1876              	.LBE18:
 1877              	.LBE17:
 1878              	.LBB19:
 1879              	.LBB20:
 1880              	.LBB21:
 1881              	.LBB22:
 657:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     return val;
 1882              		.loc 1 657 5 is_stmt 1 view .LVU637
 658:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 1883              		.loc 1 658 5 view .LVU638
 658:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 1884              		.loc 1 658 5 is_stmt 0 view .LVU639
 1885              	.LBE22:
 1886              	.LBE21:
 657:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     return val;
 1887              		.loc 1 657 5 is_stmt 1 view .LVU640
 658:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 1888              		.loc 1 658 5 view .LVU641
 658:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 1889              		.loc 1 658 5 is_stmt 0 view .LVU642
 1890              	.LBE20:
 1891              	.LBE19:
 983:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else if(flag == CAN_INT_FLAG_RFL1) {
 984:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ret1 = can_receive_message_length_get(can_periph, CAN_FIFO1);
 1892              		.loc 1 984 14 view .LVU643
ARM GAS  /tmp/ccYq1EAb.s 			page 54


 1893 000e 00F00300 		and	r0, r0, #3
 1894              	.LVL118:
 1895              	.L155:
 985:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else if(flag == CAN_INT_FLAG_ERRN) {
 986:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ret1 = can_error_get(can_periph);
 987:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else {
 988:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ret1 = CAN_REG_VALS(can_periph, flag) & BIT(CAN_BIT_POS0(flag));
 989:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 990:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     /* get the status of interrupt enable bit */
 991:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     ret2 = CAN_INTEN(can_periph) & BIT(CAN_BIT_POS1(flag));
 1896              		.loc 1 991 5 is_stmt 1 view .LVU644
 1897              		.loc 1 991 12 is_stmt 0 view .LVU645
 1898 0012 5A69     		ldr	r2, [r3, #20]
 1899              	.LVL119:
 992:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     if(ret1 && ret2) {
 1900              		.loc 1 992 5 is_stmt 1 view .LVU646
 1901              		.loc 1 992 7 is_stmt 0 view .LVU647
 1902 0014 38B1     		cbz	r0, .L158
 991:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     if(ret1 && ret2) {
 1903              		.loc 1 991 36 discriminator 1 view .LVU648
 1904 0016 01F01F01 		and	r1, r1, #31
 1905              	.LVL120:
 991:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     if(ret1 && ret2) {
 1906              		.loc 1 991 36 discriminator 1 view .LVU649
 1907 001a 0123     		movs	r3, #1
 1908              	.LVL121:
 991:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     if(ret1 && ret2) {
 1909              		.loc 1 991 36 discriminator 1 view .LVU650
 1910 001c 8B40     		lsls	r3, r3, r1
 1911              		.loc 1 992 13 discriminator 1 view .LVU651
 1912 001e 1342     		tst	r3, r2
 1913 0020 14BF     		ite	ne
 1914 0022 0120     		movne	r0, #1
 1915              	.LVL122:
 1916              		.loc 1 992 13 discriminator 1 view .LVU652
 1917 0024 0020     		moveq	r0, #0
 1918              	.LVL123:
 1919              	.L158:
 993:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         return SET;
 994:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else {
 995:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         return RESET;
 996:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 997:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 1920              		.loc 1 997 1 view .LVU653
 1921 0026 10BD     		pop	{r4, pc}
 1922              	.LVL124:
 1923              	.L154:
 983:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ret1 = can_receive_message_length_get(can_periph, CAN_FIFO1);
 1924              		.loc 1 983 12 is_stmt 1 view .LVU654
 983:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ret1 = can_receive_message_length_get(can_periph, CAN_FIFO1);
 1925              		.loc 1 983 14 is_stmt 0 view .LVU655
 1926 0028 094A     		ldr	r2, .L161
 1927 002a 9142     		cmp	r1, r2
 1928 002c 01D1     		bne	.L156
 984:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else if(flag == CAN_INT_FLAG_ERRN) {
 1929              		.loc 1 984 9 is_stmt 1 view .LVU656
 1930              	.LVL125:
ARM GAS  /tmp/ccYq1EAb.s 			page 55


 1931              	.LBB26:
 1932              	.LBI19:
 645:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
 1933              		.loc 1 645 9 view .LVU657
 1934              	.LBB25:
 647:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 1935              		.loc 1 647 5 view .LVU658
 649:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* FIFO0 */
 1936              		.loc 1 649 5 view .LVU659
 1937              	.LBB24:
 1938              	.LBI21:
 645:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
 1939              		.loc 1 645 9 view .LVU660
 1940              	.LBB23:
 652:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         /* FIFO1 */
 1941              		.loc 1 652 12 view .LVU661
 654:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else {
 1942              		.loc 1 654 9 view .LVU662
 654:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else {
 1943              		.loc 1 654 25 is_stmt 0 view .LVU663
 1944 002e 0069     		ldr	r0, [r0, #16]
 1945              	.LVL126:
 654:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else {
 1946              		.loc 1 654 25 view .LVU664
 1947 0030 EDE7     		b	.L160
 1948              	.LVL127:
 1949              	.L156:
 654:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else {
 1950              		.loc 1 654 25 view .LVU665
 1951              	.LBE23:
 1952              	.LBE24:
 1953              	.LBE25:
 1954              	.LBE26:
 985:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ret1 = can_error_get(can_periph);
 1955              		.loc 1 985 12 is_stmt 1 view .LVU666
 985:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****         ret1 = can_error_get(can_periph);
 1956              		.loc 1 985 14 is_stmt 0 view .LVU667
 1957 0032 084A     		ldr	r2, .L161+4
 1958 0034 9142     		cmp	r1, r2
 1959 0036 02D1     		bne	.L157
 986:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else {
 1960              		.loc 1 986 9 is_stmt 1 view .LVU668
 986:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else {
 1961              		.loc 1 986 16 is_stmt 0 view .LVU669
 1962 0038 FFF7FEFF 		bl	can_error_get
 1963              	.LVL128:
 986:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     } else {
 1964              		.loc 1 986 16 view .LVU670
 1965 003c E9E7     		b	.L155
 1966              	.LVL129:
 1967              	.L157:
 988:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 1968              		.loc 1 988 9 is_stmt 1 view .LVU671
 988:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 1969              		.loc 1 988 16 is_stmt 0 view .LVU672
 1970 003e 0A0B     		lsrs	r2, r1, #12
 988:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
ARM GAS  /tmp/ccYq1EAb.s 			page 56


 1971              		.loc 1 988 49 view .LVU673
 1972 0040 C1F38414 		ubfx	r4, r1, #6, #5
 988:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 1973              		.loc 1 988 16 view .LVU674
 1974 0044 1258     		ldr	r2, [r2, r0]
 988:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 1975              		.loc 1 988 49 view .LVU675
 1976 0046 0120     		movs	r0, #1
 1977              	.LVL130:
 988:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 1978              		.loc 1 988 49 view .LVU676
 1979 0048 A040     		lsls	r0, r0, r4
 988:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 1980              		.loc 1 988 14 view .LVU677
 1981 004a 1040     		ands	r0, r0, r2
 1982              	.LVL131:
 988:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     }
 1983              		.loc 1 988 14 view .LVU678
 1984 004c E1E7     		b	.L155
 1985              	.L162:
 1986 004e 00BF     		.align	2
 1987              	.L161:
 1988 0050 84000100 		.word	65668
 1989 0054 CB800100 		.word	98507
 1990              		.cfi_endproc
 1991              	.LFE140:
 1993              		.section	.text.can_interrupt_flag_clear,"ax",%progbits
 1994              		.align	1
 1995              		.global	can_interrupt_flag_clear
 1996              		.syntax unified
 1997              		.thumb
 1998              		.thumb_func
 2000              	can_interrupt_flag_clear:
 2001              	.LVL132:
 2002              	.LFB141:
 998:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** 
 999:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** /*!
1000:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \brief      clear CAN interrupt flag state
1001:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  can_periph
1002:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CANx(x=0,1)
1003:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[in]  flag: CAN interrupt flags, refer to can_interrupt_flag_enum
1004:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****                 only one parameter can be selected which is shown as below:
1005:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_FLAG_SLPIF: status change interrupt flag of sleep working mode entering
1006:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_FLAG_WUIF: status change interrupt flag of wakeup from sleep working mode
1007:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_FLAG_ERRIF: error interrupt flag
1008:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_FLAG_MTF2: mailbox 2 transmit finished interrupt flag
1009:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_FLAG_MTF1: mailbox 1 transmit finished interrupt flag
1010:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_FLAG_MTF0: mailbox 0 transmit finished interrupt flag
1011:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_FLAG_RFO0: receive FIFO0 overfull interrupt flag
1012:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_FLAG_RFF0: receive FIFO0 full interrupt flag
1013:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_FLAG_RFO1: receive FIFO1 overfull interrupt flag
1014:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****       \arg        CAN_INT_FLAG_RFF1: receive FIFO1 full interrupt flag
1015:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \param[out] none
1016:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     \retval     none
1017:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** */
1018:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** void can_interrupt_flag_clear(uint32_t can_periph, can_interrupt_flag_enum flag)
1019:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** {
ARM GAS  /tmp/ccYq1EAb.s 			page 57


 2003              		.loc 1 1019 1 is_stmt 1 view -0
 2004              		.cfi_startproc
 2005              		@ args = 0, pretend = 0, frame = 0
 2006              		@ frame_needed = 0, uses_anonymous_args = 0
 2007              		@ link register save eliminated.
1020:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c ****     CAN_REG_VALS(can_periph, flag) = BIT(CAN_BIT_POS0(flag));
 2008              		.loc 1 1020 5 view .LVU680
 2009 0000 0A0B     		lsrs	r2, r1, #12
 2010              		.loc 1 1020 38 is_stmt 0 view .LVU681
 2011 0002 0123     		movs	r3, #1
 2012 0004 C1F38411 		ubfx	r1, r1, #6, #5
 2013              	.LVL133:
 2014              		.loc 1 1020 38 view .LVU682
 2015 0008 8B40     		lsls	r3, r3, r1
 2016              		.loc 1 1020 36 view .LVU683
 2017 000a 1350     		str	r3, [r2, r0]
1021:Drivers/GD32F4xx_standard_peripheral/Source/gd32f4xx_can.c **** }
 2018              		.loc 1 1021 1 view .LVU684
 2019 000c 7047     		bx	lr
 2020              		.cfi_endproc
 2021              	.LFE141:
 2023              		.text
 2024              	.Letext0:
 2025              		.file 2 "/usr/arm-none-eabi/include/machine/_default_types.h"
 2026              		.file 3 "/usr/arm-none-eabi/include/sys/_stdint.h"
 2027              		.file 4 "Drivers/CMSIS/Include/gd32f4xx.h"
 2028              		.file 5 "Drivers/GD32F4xx_standard_peripheral/Include/gd32f4xx_rcu.h"
 2029              		.file 6 "Drivers/GD32F4xx_standard_peripheral/Include/gd32f4xx_dbg.h"
 2030              		.file 7 "Drivers/GD32F4xx_standard_peripheral/Include/gd32f4xx_can.h"
ARM GAS  /tmp/ccYq1EAb.s 			page 58


DEFINED SYMBOLS
                            *ABS*:0000000000000000 gd32f4xx_can.c
     /tmp/ccYq1EAb.s:19     .text.can_deinit:0000000000000000 $t
     /tmp/ccYq1EAb.s:25     .text.can_deinit:0000000000000000 can_deinit
     /tmp/ccYq1EAb.s:77     .text.can_deinit:000000000000002c $d
     /tmp/ccYq1EAb.s:82     .text.can_struct_para_init:0000000000000000 $t
     /tmp/ccYq1EAb.s:88     .text.can_struct_para_init:0000000000000000 can_struct_para_init
     /tmp/ccYq1EAb.s:102    .text.can_struct_para_init:0000000000000008 $d
     /tmp/ccYq1EAb.s:106    .text.can_struct_para_init:000000000000000c $t
     /tmp/ccYq1EAb.s:215    .text.can_init:0000000000000000 $t
     /tmp/ccYq1EAb.s:221    .text.can_init:0000000000000000 can_init
     /tmp/ccYq1EAb.s:439    .text.can_filter_init:0000000000000000 $t
     /tmp/ccYq1EAb.s:445    .text.can_filter_init:0000000000000000 can_filter_init
     /tmp/ccYq1EAb.s:605    .text.can_filter_init:00000000000000cc $d
     /tmp/ccYq1EAb.s:610    .text.can1_filter_start_bank:0000000000000000 $t
     /tmp/ccYq1EAb.s:616    .text.can1_filter_start_bank:0000000000000000 can1_filter_start_bank
     /tmp/ccYq1EAb.s:655    .text.can1_filter_start_bank:0000000000000038 $d
     /tmp/ccYq1EAb.s:660    .text.can_debug_freeze_enable:0000000000000000 $t
     /tmp/ccYq1EAb.s:666    .text.can_debug_freeze_enable:0000000000000000 can_debug_freeze_enable
     /tmp/ccYq1EAb.s:694    .text.can_debug_freeze_enable:000000000000001c $d
     /tmp/ccYq1EAb.s:699    .text.can_debug_freeze_disable:0000000000000000 $t
     /tmp/ccYq1EAb.s:705    .text.can_debug_freeze_disable:0000000000000000 can_debug_freeze_disable
     /tmp/ccYq1EAb.s:733    .text.can_debug_freeze_disable:000000000000001c $d
     /tmp/ccYq1EAb.s:738    .text.can_time_trigger_mode_enable:0000000000000000 $t
     /tmp/ccYq1EAb.s:744    .text.can_time_trigger_mode_enable:0000000000000000 can_time_trigger_mode_enable
     /tmp/ccYq1EAb.s:791    .text.can_time_trigger_mode_disable:0000000000000000 $t
     /tmp/ccYq1EAb.s:797    .text.can_time_trigger_mode_disable:0000000000000000 can_time_trigger_mode_disable
     /tmp/ccYq1EAb.s:844    .text.can_message_transmit:0000000000000000 $t
     /tmp/ccYq1EAb.s:850    .text.can_message_transmit:0000000000000000 can_message_transmit
     /tmp/ccYq1EAb.s:984    .text.can_transmit_states:0000000000000000 $t
     /tmp/ccYq1EAb.s:990    .text.can_transmit_states:0000000000000000 can_transmit_states
     /tmp/ccYq1EAb.s:1076   .text.can_transmit_states:0000000000000044 $d
     /tmp/ccYq1EAb.s:1083   .text.can_transmission_stop:0000000000000000 $t
     /tmp/ccYq1EAb.s:1089   .text.can_transmission_stop:0000000000000000 can_transmission_stop
     /tmp/ccYq1EAb.s:1174   .text.can_message_receive:0000000000000000 $t
     /tmp/ccYq1EAb.s:1180   .text.can_message_receive:0000000000000000 can_message_receive
     /tmp/ccYq1EAb.s:1311   .text.can_fifo_release:0000000000000000 $t
     /tmp/ccYq1EAb.s:1317   .text.can_fifo_release:0000000000000000 can_fifo_release
     /tmp/ccYq1EAb.s:1355   .text.can_receive_message_length_get:0000000000000000 $t
     /tmp/ccYq1EAb.s:1361   .text.can_receive_message_length_get:0000000000000000 can_receive_message_length_get
     /tmp/ccYq1EAb.s:1418   .text.can_working_mode_set:0000000000000000 $t
     /tmp/ccYq1EAb.s:1424   .text.can_working_mode_set:0000000000000000 can_working_mode_set
     /tmp/ccYq1EAb.s:1575   .text.can_wakeup:0000000000000000 $t
     /tmp/ccYq1EAb.s:1581   .text.can_wakeup:0000000000000000 can_wakeup
     /tmp/ccYq1EAb.s:1631   .text.can_error_get:0000000000000000 $t
     /tmp/ccYq1EAb.s:1637   .text.can_error_get:0000000000000000 can_error_get
     /tmp/ccYq1EAb.s:1661   .text.can_receive_error_number_get:0000000000000000 $t
     /tmp/ccYq1EAb.s:1667   .text.can_receive_error_number_get:0000000000000000 can_receive_error_number_get
     /tmp/ccYq1EAb.s:1690   .text.can_transmit_error_number_get:0000000000000000 $t
     /tmp/ccYq1EAb.s:1696   .text.can_transmit_error_number_get:0000000000000000 can_transmit_error_number_get
     /tmp/ccYq1EAb.s:1719   .text.can_flag_get:0000000000000000 $t
     /tmp/ccYq1EAb.s:1725   .text.can_flag_get:0000000000000000 can_flag_get
     /tmp/ccYq1EAb.s:1751   .text.can_flag_clear:0000000000000000 $t
     /tmp/ccYq1EAb.s:1757   .text.can_flag_clear:0000000000000000 can_flag_clear
     /tmp/ccYq1EAb.s:1781   .text.can_interrupt_enable:0000000000000000 $t
     /tmp/ccYq1EAb.s:1787   .text.can_interrupt_enable:0000000000000000 can_interrupt_enable
     /tmp/ccYq1EAb.s:1806   .text.can_interrupt_disable:0000000000000000 $t
ARM GAS  /tmp/ccYq1EAb.s 			page 59


     /tmp/ccYq1EAb.s:1812   .text.can_interrupt_disable:0000000000000000 can_interrupt_disable
     /tmp/ccYq1EAb.s:1831   .text.can_interrupt_flag_get:0000000000000000 $t
     /tmp/ccYq1EAb.s:1837   .text.can_interrupt_flag_get:0000000000000000 can_interrupt_flag_get
     /tmp/ccYq1EAb.s:1988   .text.can_interrupt_flag_get:0000000000000050 $d
     /tmp/ccYq1EAb.s:1994   .text.can_interrupt_flag_clear:0000000000000000 $t
     /tmp/ccYq1EAb.s:2000   .text.can_interrupt_flag_clear:0000000000000000 can_interrupt_flag_clear

UNDEFINED SYMBOLS
rcu_periph_reset_enable
rcu_periph_reset_disable
dbg_periph_enable
dbg_periph_disable
